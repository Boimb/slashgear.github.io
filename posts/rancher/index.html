<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:#007acc;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}a.gatsby-resp-image-link{box-shadow:none;}a.anchor{box-shadow:none;}</style><style data-href="/styles.491a16106869c73de5f8.css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-191cc9f50f3b76b9617cb383f19acb7d.woff2) format("woff2"),url(/static/montserrat-latin-100-370318464551d5f25b0f0a78f374faac.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-bdeaeb79db315697bd173a55b097dc18.woff2) format("woff2"),url(/static/montserrat-latin-100italic-ecf7d49386e8f265878e735db34a7c4b.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-85d5ef9db7f2dc6979172a4a3b2c57cb.woff2) format("woff2"),url(/static/montserrat-latin-200-1fc98e126a3d152549240e6244d7e669.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-49095760a498d024fe1a85a078850df9.woff2) format("woff2"),url(/static/montserrat-latin-200italic-fe46cf8b9462c820457d3bf537e4057f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-7c3daf12b706645b5d3710f863a4da04.woff2) format("woff2"),url(/static/montserrat-latin-300-8dc95fab9cf98d02ca8d76e97d3dff60.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-f20b178ca2024a5eac8e42e6649db86c.woff2) format("woff2"),url(/static/montserrat-latin-300italic-3fe16939288856e8e828fa2661bf2354.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-bc3aa95dca08f5fee5291e34959c27bc.woff2) format("woff2"),url(/static/montserrat-latin-400-8102c4838f9e3d08dad644290a9cb701.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-5cad650422a7184467af5a4d17b264c4.woff2) format("woff2"),url(/static/montserrat-latin-400italic-d191f22af3bb50902b99ac577f81a322.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-92d16e458625f4d2c8940f6bdca0ff09.woff2) format("woff2"),url(/static/montserrat-latin-500-8b763220218ffc11c57c84ddb80e7b26.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-47bfcca6b69d6a9acca7a8bff17193e2.woff2) format("woff2"),url(/static/montserrat-latin-500italic-72c01f753c3940c0b9cb6bf2389caddf.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-6fb1b5623e528e27c18658fecf5ee0ee.woff2) format("woff2"),url(/static/montserrat-latin-600-7c839d15a6f54e7025ba8c0c4b333e8f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-60789af1c9338ed1a9546722ec54b4f7.woff2) format("woff2"),url(/static/montserrat-latin-600italic-f3d4de8d0afb19e777c79032ce828e3d.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-39d93cf678c740f9f6b2b1cfde34bee3.woff2) format("woff2"),url(/static/montserrat-latin-700-80f10bd382f0df1cd650fec59f3c9394.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-ba136d97b14e82284dd595e257f11c47.woff2) format("woff2"),url(/static/montserrat-latin-700italic-8c98142b425630821139c24bd1698700.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-b7018be9ed6cd94da8b6675b3a468c3b.woff2) format("woff2"),url(/static/montserrat-latin-800-9a9befcf50d64f9d2d19d8b1d1984add.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-540ffdd223d1a9ad3d4e678e1a23372e.woff2) format("woff2"),url(/static/montserrat-latin-800italic-897086f99f4e1f45e6b1e9368527d0bc.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-58cd789700850375b834e8b6776002eb.woff2) format("woff2"),url(/static/montserrat-latin-900-26d42c9428780e545a540bbb50c84bce.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-451157bc8861fe54f523b3669a3def71.woff2) format("woff2"),url(/static/montserrat-latin-900italic-a8ec4957e1c24f5793305763ad9845b3.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-b1158cfcd4aacb9d8fb61625e37af46a.woff2) format("woff2"),url(/static/merriweather-latin-300-cc7de05e166e90320d7d896e0f72a19d.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-8fe52a48089d6ebe46db0b8e7cc66263.woff2) format("woff2"),url(/static/merriweather-latin-300italic-e1331f5397c2a673f9d3765138debdb5.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-8276fdb72ae8f4714d4e6eba704cc39f.woff2) format("woff2"),url(/static/merriweather-latin-400-69f09800f4f6479d06e44eba837df872.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-3a9be9ea9f7aa4af6de7307df21d9fc0.woff2) format("woff2"),url(/static/merriweather-latin-400italic-d76079ed7541a433a54f79316de086e9.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-fa534be7ffa380e39a7f6e03bf9a5e03.woff2) format("woff2"),url(/static/merriweather-latin-700-ba56ea84b8084b7ff9677f50d3cd81bd.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-1ef5edaaa20ae53ea50399884c5e48c6.woff2) format("woff2"),url(/static/merriweather-latin-700italic-534bc9e7ce93c73d73426e46acd78092.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-7528fb70e8a4a82c7305e72ff43ac25f.woff2) format("woff2"),url(/static/merriweather-latin-900-3799b6e2f5ed3fcccf9d7a708d7419fa.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-e1b4d2aaa78e12ad84aaf8a56321e4c2.woff2) format("woff2"),url(/static/merriweather-latin-900italic-2ae22f731b3424e8dbb4b37f7ca6e708.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.19.45"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/icons/icon-48x48.png?v=60fd6f54af0a27bdf29bfbab5e268f7e"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="darkgrey"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=60fd6f54af0a27bdf29bfbab5e268f7e"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=60fd6f54af0a27bdf29bfbab5e268f7e"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=60fd6f54af0a27bdf29bfbab5e268f7e"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=60fd6f54af0a27bdf29bfbab5e268f7e"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=60fd6f54af0a27bdf29bfbab5e268f7e"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=60fd6f54af0a27bdf29bfbab5e268f7e"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=60fd6f54af0a27bdf29bfbab5e268f7e"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=60fd6f54af0a27bdf29bfbab5e268f7e"/><title data-react-helmet="true">Rancher - How to | Antoine Caron</title><meta data-react-helmet="true" name="description" content="I use the Rancher service for one of my projects. In order to share this cool discovery, I&#x27;ve made an article about &quot;How to deploy applications with Rancher&quot;"/><meta data-react-helmet="true" property="og:title" content="Rancher - How to"/><meta data-react-helmet="true" property="og:description" content="I use the Rancher service for one of my projects. In order to share this cool discovery, I&#x27;ve made an article about &quot;How to deploy applications with Rancher&quot;"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:locale" content="en"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Slashgear_"/><meta data-react-helmet="true" name="twitter:title" content="Rancher - How to"/><meta data-react-helmet="true" name="twitter:description" content="I use the Rancher service for one of my projects. In order to share this cool discovery, I&#x27;ve made an article about &quot;How to deploy applications with Rancher&quot;"/><meta data-react-helmet="true" property="og:image" content="https://slashgear.github.io/static/79e7b4b3301dc3fc86bb65d797510f18/ffee4/rancher.jpg"/><meta data-react-helmet="true" name="twitter:image" content="https://slashgear.github.io/static/79e7b4b3301dc3fc86bb65d797510f18/ffee4/rancher.jpg"/><meta data-react-helmet="true" name="og:image:width" content="640"/><meta data-react-helmet="true" name="og:image:height" content="640"/><meta data-react-helmet="true" name="google-site-verification" content="h1uQ_z8fdlLI60AmxP8vjy1H-bKSDlv0n5XolWfeDIo"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-bd0ac831fe91f8736fb6.js"/><link as="script" rel="preload" href="/styles-9000f50097b244213e8f.js"/><link as="script" rel="preload" href="/app-4e8b6123b519498f2317.js"/><link as="script" rel="preload" href="/commons-efc2baa10946b3fecc7f.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-a9765ba4fcb6dfb5eb6e.js"/><link as="fetch" rel="preload" href="/page-data/posts/rancher/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:42rem;padding:2.625rem 1.3125rem"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;color:inherit" href="/">Antoine Caron</a></h3></header><main><article><header><h1 style="margin-top:1.75rem;margin-bottom:0">Rancher - How to</h1><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:1.75rem">June 13, 2016</p><picture><source srcSet="/static/79e7b4b3301dc3fc86bb65d797510f18/e7487/rancher.webp 150w,
/static/79e7b4b3301dc3fc86bb65d797510f18/403a4/rancher.webp 300w,
/static/79e7b4b3301dc3fc86bb65d797510f18/ad85c/rancher.webp 600w,
/static/79e7b4b3301dc3fc86bb65d797510f18/991d2/rancher.webp 640w" sizes="30vw" type="image/webp"/><source srcSet="/static/79e7b4b3301dc3fc86bb65d797510f18/aabdf/rancher.jpg 150w,
/static/79e7b4b3301dc3fc86bb65d797510f18/9dc27/rancher.jpg 300w,
/static/79e7b4b3301dc3fc86bb65d797510f18/4fe8c/rancher.jpg 600w,
/static/79e7b4b3301dc3fc86bb65d797510f18/f422e/rancher.jpg 640w" sizes="30vw" type="image/png"/><img class="article-item__picture" src="/static/79e7b4b3301dc3fc86bb65d797510f18/4fe8c/rancher.jpg" alt="Rancher - How to" width="100%"/></picture></header><section><p>Mon expérience en tant que stagiaire chez Zenika m’a amené à utiliser
Rancher pour orchestrer mes conteneurs Docker. Je vous présente ici un
condensé de mon expérience avec cet outil, de son intérêt et de ses
points forts, par le biais d’un petit “How to“ sur comment déployer son
application ?</p>
<p>On constate que de plus en plus d’utilisateurs Docker cherchent à
manipuler plus facilement leurs conteneurs et à mettre en place du
déploiement continu. L’environnement technique autour de la
problématique d’orchestration des modèles CaaS (Container as a Service)
est très large et il est parfois difficile de s’y retrouver.</p>
<h2 id="quen-est-t-il-de-rancher-" style="position:relative;"><a href="#quen-est-t-il-de-rancher-" aria-label="quen est t il de rancher  permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Qu’en est-t-il de Rancher ?</h2>
<h3 id="késako" style="position:relative;"><a href="#k%C3%A9sako" aria-label="késako permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Késako</h3>
<p>Rancher, projet open-source créé par la société Rancher Labs est un
outil gratuit d’orchestration de conteneurs Docker. Il permet de
facilement déployer des conteneurs Docker sur des machines possédant
Docker. Grâce à une configuration simple et complète, il permet de lier
ses conteneurs afin de composer des architectures de services aisément.
Il peut déployer des containeurs sur des services cloud comme AWS,
Azure, DigitalOcean mais aussi sur des machines personnalisées
possédant Docker tout en s’appuyant sur docker-machine.</p>
<h3 id="une-installation-assez-simple" style="position:relative;"><a href="#une-installation-assez-simple" aria-label="une installation assez simple permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Une installation assez simple</h3>
<p>Pour installer Rancher, à ce jour il suffit de posséder une machine
linux 64-bit avec au moins 1GB de mémoire vive.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">sudo</span> docker run -d --restart<span class="token operator">=</span>always -p <span class="token number">8080</span>:8080 rancher/server</code></pre></div>
<p>Après quelques minutes d’installation, le server Rancher est disponible
sur le port 8080 de votre machine (l’image contient une base MySQL, un
Zookeeper, Redis, et le serveur rancher). Vous pouvez vous y connecter
car l’accès est par défaut ouvert à tous. Par la suite,  vous pourrez
activer l’authentification,et ainsi facilement configurer des comptes
pour vos utilisateurs.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/7044fcf8b2240abbf24b959028a4f610/77f8f/environnement.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 47.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABOklEQVQoz22QTU7DQAyFc0AW7JEQsOgp4CZdQ6uKI8AKobYrluyKaEmbpJlJYnt+MykOKSRSsb55evLIozeObu9fRrPlzWx5PV0wo19zOZlfTRcXD/NTzsbP5+Onu8fXCBARQCuqvWW867V2NjgXvA3eDbC5EHGardMsitP9ah1/ximQQqU7SBsGtCZjyFjU5u+KUcYaZ9lE1rmmaUIIh0Fp59+3Isml4Xkia+3hpKzz7fCw1TStFkCrbSal4ISsSqn/hyuiY9Q27RGltTFG/YRXxqDWLUrDIHyFFG0yuZOQlZiWkBY9SQE7WX0l+0wWsgKmBASiErFEVhJVFW3zYidKASRQlUoX1NN2kHN1i1S80RyoMww/FyW52CRZImQB6Ova+bbqENrD1YTO8yfXEidvHxViKiTHYb4BzX7wYutWWbQAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/7044fcf8b2240abbf24b959028a4f610/cbe2e/environnement.webp 148w,
/static/7044fcf8b2240abbf24b959028a4f610/3084c/environnement.webp 295w,
/static/7044fcf8b2240abbf24b959028a4f610/5ca24/environnement.webp 590w,
/static/7044fcf8b2240abbf24b959028a4f610/dad35/environnement.webp 885w,
/static/7044fcf8b2240abbf24b959028a4f610/2baf0/environnement.webp 1180w,
/static/7044fcf8b2240abbf24b959028a4f610/87c73/environnement.webp 1353w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/webp"
        />
        <source
          srcset="/static/7044fcf8b2240abbf24b959028a4f610/12f09/environnement.png 148w,
/static/7044fcf8b2240abbf24b959028a4f610/e4a3f/environnement.png 295w,
/static/7044fcf8b2240abbf24b959028a4f610/fcda8/environnement.png 590w,
/static/7044fcf8b2240abbf24b959028a4f610/efc66/environnement.png 885w,
/static/7044fcf8b2240abbf24b959028a4f610/c83ae/environnement.png 1180w,
/static/7044fcf8b2240abbf24b959028a4f610/77f8f/environnement.png 1353w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/7044fcf8b2240abbf24b959028a4f610/fcda8/environnement.png"
          alt="Interface graphique de Rancher"
          title="Interface graphique de Rancher"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<h3 id="déployer-une-application-simple-avec-rancher" style="position:relative;"><a href="#d%C3%A9ployer-une-application-simple-avec-rancher" aria-label="déployer une application simple avec rancher permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Déployer une application simple avec Rancher</h3>
<p>Après l’IaaS, le SaaS, le PaaS, le DaaS et Patricia Kaas, voila
maintenant venue l’ère du Caas (Container as a Service). L’objectif
ici est de conteneuriser les services de son(ses) application(s) et de
les faire interagir. Pour montrer simplement la mécanique de Rancher,
j’ai choisi de vous présenter le déploiement d’une application web très
simple nommée whoami, disponible sur le Docker Hub (développé en Go
par Emile Vauge).</p>
<p>Pour ce faire, je vais vous expliquer  la méthode de création de
services par l’interface graphique. Sachez que l’on peut interagir
avec Rancher par l’intermédiaire d’un outil en ligne de commande
(rancher-cli,encore très limité pour l’instant) ou d’API REST.</p>
<h4 id="ajouter-des-hosts-sur-lesquels-déployer" style="position:relative;"><a href="#ajouter-des-hosts-sur-lesquels-d%C3%A9ployer" aria-label="ajouter des hosts sur lesquels déployer permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ajouter des hosts sur lesquels déployer</h4>
<p>Dans un premier temps il faut définir des machines sur lesquelles
déployer votre application.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/09dee4224d527f5831843599f577d8b3/7970d/machine.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABYElEQVQoz32QbUscMRDH9zP7vi/OQpF+mL4SqVXftVAo4sNJoRwUZc3tXmaSzEySfdTbZm+9UywKv4T5M/OfmST7fHT+4ehi//jq08n1wdl8dnw5+3q5fzL/eHrzFrNv870vPw8Of2UcQl/HYd1PrB/aMRge3+Vh6Ju+qTKumiGpx3W6fdv/1Q7QWEchVj5E40apAcHaFMeqHq3pDEPb95mR0HZd1XZN20msxAcJccInf4wknn2Y4ljXddtNhLrJ7sGgI3CkLeWlvlXlnSryolwCrqxDEmRBYiDGDbApnsgUWMNPiXw5OlW50gjoLDhntp4t9FI+m1OnHIxCVxgqLI8YUkhgCa0rLWsOzkcnfrdFlip27ZfoNtgRYzWJJm94BNlziH9K+1sBicBrs6MiTdagNCrAew3pe1MdMk+richNvrq4K9l7cP9N3n1Myon33xfqx0LJtjS9i72Il0km/gGH3yRQyaEF5gAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/09dee4224d527f5831843599f577d8b3/cbe2e/machine.webp 148w,
/static/09dee4224d527f5831843599f577d8b3/3084c/machine.webp 295w,
/static/09dee4224d527f5831843599f577d8b3/5ca24/machine.webp 590w,
/static/09dee4224d527f5831843599f577d8b3/dad35/machine.webp 885w,
/static/09dee4224d527f5831843599f577d8b3/2baf0/machine.webp 1180w,
/static/09dee4224d527f5831843599f577d8b3/36414/machine.webp 1908w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/webp"
        />
        <source
          srcset="/static/09dee4224d527f5831843599f577d8b3/12f09/machine.png 148w,
/static/09dee4224d527f5831843599f577d8b3/e4a3f/machine.png 295w,
/static/09dee4224d527f5831843599f577d8b3/fcda8/machine.png 590w,
/static/09dee4224d527f5831843599f577d8b3/efc66/machine.png 885w,
/static/09dee4224d527f5831843599f577d8b3/c83ae/machine.png 1180w,
/static/09dee4224d527f5831843599f577d8b3/7970d/machine.png 1908w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/09dee4224d527f5831843599f577d8b3/fcda8/machine.png"
          alt="Création de machines"
          title="Création de machines"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>Rancher propose des connecteurs à plusieurs services cloud du web comme
Amazon EC2, Azure, Digital Ocean, mais vous pouvez également ajouter
n’importe quelle machine disposant de docker comme “host” Rancher
(“Custom”).</p>
<p>Pour l’exemple, j’ai ajouté deux machines au cluster nommées node1 et
node2, et j’ai ajouté l’hôte Rancher lui-même self
(c’est possible mais non recommandé).</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/bcd00c6977b0abb9aa112407e39372d8/36c33/host.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 62.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAABy0lEQVQoz41Ry27TQBTNJ7CICmJBVyyR+EFIqwiJBR/AniU0AVXlD1ixRBUhiZo0dmN7/BjPjD0vvzhjS0lVFYnRkX3n3Htm7rkzej39fDKZn07n47cXL6Zfx5OLl+8vX324On337enZ7Pn5fDyZnZzNnp3Pn7z58gAjru3vkOXKrvbxOkgjoZf7eBNlROhtnC98Egm1ClKkSGEQo+CAUUbZxx9/Ln/dqrLkopBSMi5yJspSClFwLsAIIRAoqR6s0Y0ffPq5/n69gzLNecoAwYoS8oxx6rY86xmKAspQk1A2YNR1XdO2Xdc2TaONsVVVNw2AqKlrY4y2YFwWZGWt0jrBHT2cWGpToCWtByUWDsG+Z+q6blCDv3XpGp+kv9+Jm6oqpSzdwiFQWa0UfBY9g9KU5iGJSZKSNIuSLOciPdy89YPFxlvd+l5IwiQjKV1u/eXGW+/udiEhWb6Ps+sbb7G92wXEi+LDtU6MMXgxxTx4KUup0H+YsX2as0I6BjPVhmL2vXVlLLo7tg0/WhtYts5PjdK2bXtGwy3GZp3XSkoFSxitNvYoxpPG9x5gCIbcwFAmcl5QLqj7Fni2Y9tMFPdt/AuP1vyv+FH8BeVBwG9QQM+oAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/bcd00c6977b0abb9aa112407e39372d8/cbe2e/host.webp 148w,
/static/bcd00c6977b0abb9aa112407e39372d8/3084c/host.webp 295w,
/static/bcd00c6977b0abb9aa112407e39372d8/5ca24/host.webp 590w,
/static/bcd00c6977b0abb9aa112407e39372d8/dad35/host.webp 885w,
/static/bcd00c6977b0abb9aa112407e39372d8/30833/host.webp 946w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/webp"
        />
        <source
          srcset="/static/bcd00c6977b0abb9aa112407e39372d8/12f09/host.png 148w,
/static/bcd00c6977b0abb9aa112407e39372d8/e4a3f/host.png 295w,
/static/bcd00c6977b0abb9aa112407e39372d8/fcda8/host.png 590w,
/static/bcd00c6977b0abb9aa112407e39372d8/efc66/host.png 885w,
/static/bcd00c6977b0abb9aa112407e39372d8/36c33/host.png 946w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/bcd00c6977b0abb9aa112407e39372d8/fcda8/host.png"
          alt="Hosts"
          title="Hosts"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<h4 id="créer-son-service" style="position:relative;"><a href="#cr%C3%A9er-son-service" aria-label="créer son service permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Créer son service</h4>
<p>Il faut maintenant créer une stack pour accueillir notre service whoami.
Dans la logique Rancher, une stack est un ensemble de services.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/c862fa4069b40c90035b4b3a02c9addd/9e0ed/stack.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABDUlEQVQoz43OS07DMBAGYJ+ZOyAeOQC3YN1FWnaIBRtoglBBLQlpEW1ejhM/xzFOo0RJihC/voU9Mx4Z3bhPF+7SufOvF76z8K8W3uXcO3f/tjy7fXBmj0iySithjDYGOnpgcu2AUIKhinOltSVhhCsouSSUSQAFJ13QTCrEhGBcCKnqLlrb3SbMyvnrriip7SqAehBT1/ebw2qPkVA2ANA8GEY3U3asBt0eR1G6tisRqSguaUV584UBKsTzLsWUCSknLcsWKecoznHrkOVD32k28z6CfRLn+aTVQ9s4O77E/ZZeSUiS/1Lvoa8U54RkRSMdS3CRnhRb7TB6WYdvQdQIo/XndvM/70G0CqIfId0rn36KyBQAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/c862fa4069b40c90035b4b3a02c9addd/cbe2e/stack.webp 148w,
/static/c862fa4069b40c90035b4b3a02c9addd/3084c/stack.webp 295w,
/static/c862fa4069b40c90035b4b3a02c9addd/5ca24/stack.webp 590w,
/static/c862fa4069b40c90035b4b3a02c9addd/dad35/stack.webp 885w,
/static/c862fa4069b40c90035b4b3a02c9addd/2baf0/stack.webp 1180w,
/static/c862fa4069b40c90035b4b3a02c9addd/93f82/stack.webp 1923w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/webp"
        />
        <source
          srcset="/static/c862fa4069b40c90035b4b3a02c9addd/12f09/stack.png 148w,
/static/c862fa4069b40c90035b4b3a02c9addd/e4a3f/stack.png 295w,
/static/c862fa4069b40c90035b4b3a02c9addd/fcda8/stack.png 590w,
/static/c862fa4069b40c90035b4b3a02c9addd/efc66/stack.png 885w,
/static/c862fa4069b40c90035b4b3a02c9addd/c83ae/stack.png 1180w,
/static/c862fa4069b40c90035b4b3a02c9addd/9e0ed/stack.png 1923w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/c862fa4069b40c90035b4b3a02c9addd/fcda8/stack.png"
          alt="Stack"
          title="Stack"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>On peut remarquer que pour l’ajout d’une stack, on peut importer un
fichier <code class="language-text">docker-compose.yml</code> et un fichier <code class="language-text">rancher-compose.yml</code>.</p>
<p>Le fichier docker-compose.yml définit la structure de la stack,
l’ensemble de ses services ainsi que leurs configurations.
Ce fichier est natif de l’api Docker Compose.`</p>
<p>Le fichier rancher-compose est un “add-on” au docker compose,
il permet de configurer des paramètres Rancher comme la configuration
des loadbalancer (HA-Proxy) et la scalabilité horizontale des services.
Ces deux fichiers sont exportables à tout moment, cela peut-être très
pratique pour une réinstallation (par exemple, voici la
<a href="https://drive.google.com/file/d/0B0NhGeba-vjZVnJldGRYUTBZaGs/view">configuration de la stack</a>
qui est installée dans cette partie).</p>
<p>Une fois la stack créée en lui donnant uniquement un nom, il faut
ajouter notre service whoami. Pour cela il suffit de cliquer sur
“Add service” et de le définir comme cela.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/48d761834dc232cc35b22955f7da9c22/26c3a/whoami.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABE0lEQVQoz32RS07EMAyGc2POANIw7FlwCA6A0HSWbBGjKRIHADEzfaWtE9tJmmC66wN+fYqs/HFix+r+6fV2d9ju37dZfrfPN9lxk+U3u+M/XD8frh5fHrI35dAMnlOKKQ1T4trmSAwpkCOrejAtGCAGJPa+56AtW6KyM2fdG0SwKNYMS4zkFBIxO3ZecOMqd8QQPhv4+K5JxM6N1gxkVoZoGKSYFKdKY9GSKG5cSE477xVY2wGEEGZHhpHlpZNkKduitMvLF8QWxT8kH6R4tNOapFepaNVC578aUMbatu+rRte6rdu20lpWiQGxBeiNlWCVzliFaKq6uZSVcCrK06WQ4FyUMiRpRmY2A3+HxPLVkv8DCPY3w7YFM+QAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/48d761834dc232cc35b22955f7da9c22/cbe2e/whoami.webp 148w,
/static/48d761834dc232cc35b22955f7da9c22/3084c/whoami.webp 295w,
/static/48d761834dc232cc35b22955f7da9c22/5ca24/whoami.webp 590w,
/static/48d761834dc232cc35b22955f7da9c22/dad35/whoami.webp 885w,
/static/48d761834dc232cc35b22955f7da9c22/2baf0/whoami.webp 1180w,
/static/48d761834dc232cc35b22955f7da9c22/854a9/whoami.webp 1907w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/webp"
        />
        <source
          srcset="/static/48d761834dc232cc35b22955f7da9c22/12f09/whoami.png 148w,
/static/48d761834dc232cc35b22955f7da9c22/e4a3f/whoami.png 295w,
/static/48d761834dc232cc35b22955f7da9c22/fcda8/whoami.png 590w,
/static/48d761834dc232cc35b22955f7da9c22/efc66/whoami.png 885w,
/static/48d761834dc232cc35b22955f7da9c22/c83ae/whoami.png 1180w,
/static/48d761834dc232cc35b22955f7da9c22/26c3a/whoami.png 1907w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/48d761834dc232cc35b22955f7da9c22/fcda8/whoami.png"
          alt="Whoami example"
          title="Whoami example"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>On remarque que seul le nom du service, l’image docker et le “port map”
ont été définis (ie: c’est un exemple simple, vous pouvez voir par les
onglets du bas que la configuration peut être beaucoup plus poussée,
gestion des volumes, du network du service, des HealthCheck).</p>
<p>Après cette simple configuration, il suffira de cliquer sur “Create” et
informagiquement votre service sera déployé sur un host choisi par Cattle.</p>
<p>Vous allez me dire, “qu’est ce que Cattle ?”, et vous aurez raison.
Cattle est l’orchestrateur par défaut utilisé par Rancher. Il est
maintenu par l’équipe de Rancher et le projet est open-source et
disponible sur Github.</p>
<p>Sachez que Rancher fonctionne également avec Kubernetes, Swarm et
Mesos mais pour cet article, je me suis limité à l’utilisation de Cattle.</p>
<h4 id="scaler-et-loadbalancer" style="position:relative;"><a href="#scaler-et-loadbalancer" aria-label="scaler et loadbalancer permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scaler et Loadbalancer</h4>
<p>Après quelques temps de démarrage, votre service whoami devrait être
disponible.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/e8e9c7193ddbbf5ec9e4e6d47167aa26/b79a5/start.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 43.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAAA1UlEQVQoz63N204CMRAG4L7/A/ggvoIx4IVhwUW4UkGi0C49zKm7y41jV1ETIzEh+TJpZ/5pzTYS5i73vXQ/5P4weD93vQXZRJbuYH28f1gvn54fV2tjQ4pICQmIjxJRAPSAw0hELmeri6vl1uuQXYjIvLM7o5OgCWbJmT9ps0nQRNARimhH2hZZgEX3CpTcGn3mV01MyqlytcX3gH5uhtB/uZDoTMvpo7tPcNLXsvXB+XCsdn+aKzEgMqNJPa7ubqb1qNTJfFH9aTpfjKv6+na2eXl9A7+q8wIdABJZAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/e8e9c7193ddbbf5ec9e4e6d47167aa26/cbe2e/start.webp 148w,
/static/e8e9c7193ddbbf5ec9e4e6d47167aa26/3084c/start.webp 295w,
/static/e8e9c7193ddbbf5ec9e4e6d47167aa26/5ca24/start.webp 590w,
/static/e8e9c7193ddbbf5ec9e4e6d47167aa26/dad35/start.webp 885w,
/static/e8e9c7193ddbbf5ec9e4e6d47167aa26/2baf0/start.webp 1180w,
/static/e8e9c7193ddbbf5ec9e4e6d47167aa26/1177a/start.webp 1372w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/webp"
        />
        <source
          srcset="/static/e8e9c7193ddbbf5ec9e4e6d47167aa26/12f09/start.png 148w,
/static/e8e9c7193ddbbf5ec9e4e6d47167aa26/e4a3f/start.png 295w,
/static/e8e9c7193ddbbf5ec9e4e6d47167aa26/fcda8/start.png 590w,
/static/e8e9c7193ddbbf5ec9e4e6d47167aa26/efc66/start.png 885w,
/static/e8e9c7193ddbbf5ec9e4e6d47167aa26/c83ae/start.png 1180w,
/static/e8e9c7193ddbbf5ec9e4e6d47167aa26/b79a5/start.png 1372w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/e8e9c7193ddbbf5ec9e4e6d47167aa26/fcda8/start.png"
          alt="Start"
          title="Start"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>Si vous cliquez sur le “80”, vous devez accéder au service whoami.
Il vous donnera plusieurs informations sur lui-même, notamment son nom.</p>
<p>Le but maintenant est de scaler notre service, afin de le distribuer
sur plusieurs machines.</p>
<p>Dans le détail du service, on peut voir que la scale est actuellement
définie à 1. Il suffirait donc de l’augmenter ? Et bien non, le service
que nous venons de définir occupe le port 80 de la machine. Il ne
pourrait donc pas être disponible plus d’une fois par machine. Et c’est
là l’une des problématiques des microservices :  l’allocation dynamique
de port et la “connaissance” des services par le loadbalancer. Rancher
offre une solution simple à ce problème, il ne faut plus réserver de
port pour son application, le loadbalancer va connaître les services
par l’orchestrateur.</p>
<p>Il faut donc supprimer la configuration du port statique du service.</p>
<p>Une fois le port libéré , il faut donc créer un loadbalancer qui
distribue la charge entre les instances de whoami. Dans la stack,
cliquez sur “Add Load Balancer”</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/36278add82f22f1e306be60a799b6681/f33fc/loadb.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 47.972972972972975%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABcklEQVQoz3WQS27bMBCGeeVeoLsmrQ/RG3RddBGnu6LLLCygKOLGtC1K5PAxQ0rUI44zkpzAmwIfhj9/kjOcEau7zZd1wazui8/r4nZd3NxtPv2fm3Xx8fvDh2+/vv58EOjs2KbzaTg/9y9jdxq685AvjFf6ilPXdCkSotgelKy0rI0CJ7X7V8G+NnJmp7RU+n0rq4tg56CB7wuMDaUmxMSktmVim9OMoxgoxmZyFtrcNflyiqkRxge+VFt/1MDC4YQNVIFTBrTzDmnyiU2U2iobXEDWEFDAvGjra7AhxuULniJ4BB9YXJyYkGhbgTSO05nlsfHoiBT4bWlqHyuHnFtZLC0qh+zUnpjKEWD6o2CnrUXSAfm9cCHsy+rpoB736u/u+HSslfUMt8O5DcZ3AGNpg/bouZEZkXOeVMCAFIhi0/TDMI6D5MoeM8+o77s3+mGKeabtOsHV7TwSjgu1n2b8Y7P7/VgiRe5rmQvMX4UrXgFKuCOQyjheAwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/36278add82f22f1e306be60a799b6681/cbe2e/loadb.webp 148w,
/static/36278add82f22f1e306be60a799b6681/3084c/loadb.webp 295w,
/static/36278add82f22f1e306be60a799b6681/5ca24/loadb.webp 590w,
/static/36278add82f22f1e306be60a799b6681/dad35/loadb.webp 885w,
/static/36278add82f22f1e306be60a799b6681/2baf0/loadb.webp 1180w,
/static/36278add82f22f1e306be60a799b6681/2100e/loadb.webp 1905w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/webp"
        />
        <source
          srcset="/static/36278add82f22f1e306be60a799b6681/12f09/loadb.png 148w,
/static/36278add82f22f1e306be60a799b6681/e4a3f/loadb.png 295w,
/static/36278add82f22f1e306be60a799b6681/fcda8/loadb.png 590w,
/static/36278add82f22f1e306be60a799b6681/efc66/loadb.png 885w,
/static/36278add82f22f1e306be60a799b6681/c83ae/loadb.png 1180w,
/static/36278add82f22f1e306be60a799b6681/f33fc/loadb.png 1905w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/36278add82f22f1e306be60a799b6681/fcda8/loadb.png"
          alt="Load balancer"
          title="Load balancer"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>Une fois le loadbalancer créé, on peut donc augmenter la scale de son
application sans avoir de problème d’allocation de port. Si vous cliquez
le “80” du loadbalancer, vous devez atteindre votre service, et s’il
est scalé, l’hostname devrait changer au refresh.</p>
<p>A ce stade du déploiement, on peut se demander, ce qu’il en est de
l’infrastructure des machines  créées plus tôt.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/5ac8774826df26dbe266ef830d1b3ff8/27b8e/host2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 83.78378378378379%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsSAAALEgHS3X78AAACXklEQVQ4y01T2W7bQAzUh/cb+jF9Loo+96koiqRuEkuWrVva+15J6dBCkgKEzeVyuMMhVTAfX19fa2ZC3lwIt35yMfmY+5kvUqd1U8Y1wxxSNj7AwS2ChxXNxBYuvj1ev59uk5AjDtoIpSfGJya0tUyqkXGJoNbjwqTWxrnDisfq9lRdP3/9+enLj3pEukaJRao3Ix/4+SMokYDjxEXRCx1y2vd9W/O6rspYFyKqgmeE5ex9MM7bEKwPyEAw5YwsbV0xCI2et31HxrpucFKmfwSRh0JUd9vgIwI/xHTc+hAJvObsfIQQqKesu5dPeDDECJNKAwkHGUDiyjrnfQSRomUSLthCHmUMCB+0rfNMSiakpj4Sbk9lfWn7d5u5LM7d9Odcn2/dtR+rdiibfhGyvHYPz9WlHy/dULV9M85c6Us7NMNEz5BgCkMpOq5IDx/QmPYe/MHQej8zga5AUuEObCPYEkHqFtG8AkVg0MYcoRIkRe8w5wMiAGUkETZhf8CfS0VSkxwkEIHtBziiP08vA6wI9Q72HpsDCXDQzpMuBxhksFjxvoC4AFnjPSKIh5S4sTlnHH+dXn4/lQ/PZdX05a2DhFgSdZ+HwYQccaZ54HHsI9HeNvwlmqVflBm4BjtEQI2WpOynv9UVY4DVXQ9tF6Gqpnt8uZwwhWtbdwO+FmSjllIahagYeoRgzSJGJuthAQjqS0MbgB2+jQzGlOba6Ps4Ir2PvmgRoAW9PCt7bCLtWM53nxZw3XZE0PNGK7ujysjF8UnQV3H/LdpF0jf4ZlgGek3pj4im4/wG+9/+AeOJxYHnd8zNAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/5ac8774826df26dbe266ef830d1b3ff8/cbe2e/host2.webp 148w,
/static/5ac8774826df26dbe266ef830d1b3ff8/3084c/host2.webp 295w,
/static/5ac8774826df26dbe266ef830d1b3ff8/5ca24/host2.webp 590w,
/static/5ac8774826df26dbe266ef830d1b3ff8/05152/host2.webp 836w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/webp"
        />
        <source
          srcset="/static/5ac8774826df26dbe266ef830d1b3ff8/12f09/host2.png 148w,
/static/5ac8774826df26dbe266ef830d1b3ff8/e4a3f/host2.png 295w,
/static/5ac8774826df26dbe266ef830d1b3ff8/fcda8/host2.png 590w,
/static/5ac8774826df26dbe266ef830d1b3ff8/27b8e/host2.png 836w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/5ac8774826df26dbe266ef830d1b3ff8/fcda8/host2.png"
          alt="Hosts"
          title="Hosts"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>Rancher a déployé les conteneurs docker de façon équilibrée entre les
différentes machines. On peut définir nos propres règles de déploiement
par l’utilisation de label sur les machines.</p>
<p>Par exemple, on peut ajouter le label “name = frontend”, et pour chaque
service que l’on crée, définir si il peut démarrer ou non sur la machine
dont le name est frontend.</p>
<p>Sur chacun des conteneurs, rancher nous permet d’accéder à un shell et
une vue des logs, ce qui est très pratique pour le débug.</p>
<p>Certes cet exemple était simple, mais on peut facilement déployer des
architectures plus complexes grâce à Rancher, et c’est là tout son
intérêt. Voici l’architecture des services de l’un des projets que j’ai
déployé grâce à lui.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 548px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/39e646d632a82cd4ad26d901963a1c11/a58fe/microservices.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 74.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsSAAALEgHS3X78AAAB/ElEQVQoz4WTa4/SQBSG+f9/w/jBxBhdNRphF7kVohRo0V6gHXrvTKdzLYWE+GEPGtcsLtnkfDozb94zz3mnU0t1rSKKA5IFJIcKq5wIcXGhc1Ws1NSxDXPRnRij+Xy8NBEpuGqolM+LKyl34FZWKEjiKMeUpnXFpH7Gmf4uwgU9qI3MXrhfeqmpTm3GaS31n9OrYqY0l03JWUgLREu7RD5JdxRHNYY+mD/4X4orITNGc167OAY9+GvdMqmw4IgWQZUXnJWMXYqBBPCIKb6dzz4PR69ve13DAGai2W+ypDsz3ve/vu3f9abTZehz3Vw6wzwFeIbh2nIty3OdMMhTIkVCySZA9spb257vI4TzJ8YGcSmYPrV32eKl39uqjB11wRjWXP1qP0SzV9t+cahpqyouHonPnFQT1eRsXiWrMgRCcU0w53AK7/+BI4AX17j6m5bOw1ZrKWEZESOAR6p9o49caeiHrIDJ4Q6Qa/RBqObfnqmQUu+BwWD1/eNk+Gk2Ga7mbh4z3RieNbbMm3EfEI5sMyTFec9CPhLDtNs88bfIMp3V0tnFKSI5xNNJ0A7F1uKn74RhnEDUYRZ6kTAq1JlBK95tx130rTkdSsXgqfyod6p84w0HsbU/HWH5T8cTICNWDpP1LHcjjiES0CwE86pkkNjzwk959f+vugfbxSvXfEKQDAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/39e646d632a82cd4ad26d901963a1c11/cbe2e/microservices.webp 148w,
/static/39e646d632a82cd4ad26d901963a1c11/3084c/microservices.webp 295w,
/static/39e646d632a82cd4ad26d901963a1c11/01940/microservices.webp 548w"
          sizes="(max-width: 548px) 100vw, 548px"
          type="image/webp"
        />
        <source
          srcset="/static/39e646d632a82cd4ad26d901963a1c11/12f09/microservices.png 148w,
/static/39e646d632a82cd4ad26d901963a1c11/e4a3f/microservices.png 295w,
/static/39e646d632a82cd4ad26d901963a1c11/a58fe/microservices.png 548w"
          sizes="(max-width: 548px) 100vw, 548px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/39e646d632a82cd4ad26d901963a1c11/a58fe/microservices.png"
          alt="Hosts"
          title="Hosts"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<h3 id="un-«-bluegreen-deployement-»--et-une-rolling-upgrade-en-5-minutes" style="position:relative;"><a href="#un-%C2%AB-bluegreen-deployement-%C2%BB--et-une-rolling-upgrade-en-5-minutes" aria-label="un « bluegreen deployement »  et une rolling upgrade en 5 minutes permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Un « blue/green deployement »  et une “rolling upgrade” en 5 minutes</h3>
<p>Dans la plupart des cas, une mise en production est souvent un
passage difficile pour le développeur. Les outils DevOps ont bien
évidemment permis de simplifier cette étape cruciale de la vie d’un
projet.</p>
<p>Rancher permet d’utiliser plusieurs méthodes pour mettre à jour un
service déjà en production tout en garantissant la continuité des
services :</p>
<h4 id="la-rolling-upgrade-remplacement-dun-service-par-un-autre" style="position:relative;"><a href="#la-rolling-upgrade-remplacement-dun-service-par-un-autre" aria-label="la rolling upgrade remplacement dun service par un autre permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>La rolling upgrade (remplacement d’un service par un autre)</h4>
<p><img src="/b30a1750f67a83ef7c8cab4ccdd1b326/indiana.gif" alt="Hosts"></p>
<h4 id="le-bluegreen-deployement" style="position:relative;"><a href="#le-bluegreen-deployement" aria-label="le bluegreen deployement permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Le blue/green deployement</h4>
<p>Ces deux méthodes ont été présentées par Christophe Furmaniak et
Youcef Yekhlef (deux consultants architectes de Zenika) lors de leur
intervention à de pendant la Devoxx 2016. Je ne peux que vous
conseiller de la regarder :</p>
<div class="gatsby-resp-iframe-wrapper" style="padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem" > <div style="position:relative;height:0;padding-bottom:56.25%"> <iframe src="https://www.youtube.com/embed/QFqt8xMTChY?ecver=2" frameborder="0" style="position:absolute;width:100%;height:100%;left:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; " allowfullscreen></iframe> </div> </div>
<h3 id="un-service-dns-et-network-overlay" style="position:relative;"><a href="#un-service-dns-et-network-overlay" aria-label="un service dns et network overlay permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Un service DNS et Network overlay</h3>
<p>Pour ceux qui ont déjà bien pratiqué Docker, faire communiquer deux
containeurs entre eux sans avoir d’outil d’orchestration n’est pas très
aisé. Bien sûr, il y a la publication de port sur le Host, mais on
arrive vite aux limites. Rancher apporte nativement une fonctionnalité
d’overlay network via un tunnel ipsec permettant à deux containers sur
deux machines différentes d’être sur le même réseau virtuel. Rancher va
plus loin puisqu’il possède son service DNS dans lequel il enregistre
chaque nouveau container qu’il crée. Cela a plusieurs avantages:</p>
<ul>
<li>Deux services d’une même Stack se connaissent par leur nom ;</li>
<li>Un service peut connaître un service d’une autre stack par <code class="language-text">nomService.nomStack</code>.</li>
</ul>
<h3 id="un-catalogue-qui-senrichit" style="position:relative;"><a href="#un-catalogue-qui-senrichit" aria-label="un catalogue qui senrichit permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Un catalogue qui s’enrichit</h3>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/ccd638ac43343c2b2dfbacfbdd0cd99f/cb9f4/catalogue.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABxklEQVQoz0VQyW4TQRT0L/MHSAkgckLiIzgQDOQCiDi5EgXJmch2EF5iz3gbd09P78vrWXhjIkVqlUrdVV31Xu/dj+HLb8nZ1eTt9eTs+uH1YPxmMH41GJ9cjk4ux6dXkyN5Pqf49HP0ov/r/fffPW+007xtY9vEJljEtqnaOnRYhdbIp5vnU7dNg0pvdU97uFve2qCND/PZzHrvIWbp1ECwJXc3N76qrTVKlA6itl5T4UPYM05K0VPObxjXLiBJaUeEcYt9gZ+W0vzJ8lIZZe18e5DWYcCWSdQUXFAuenPC+/fZgvANVxfj9ZKKbam+jrJ5nq8o/3i3fCQ8LcR5kq6oQPJltEYLl7JLdgEUkxEgK8RDlgul14X6m+3o4d55JwoMA5xFaeWDRzEh1PlA/ycDgBOyiiCNZ1xBCNJ6oUxd1wHASgMxotorFgG3EWMICKTknRkLnw8fsduO636yWhVyx9XnZJkWKiX8w+10cSjXTH4aLtJCbkp1McpQ09VGc6ntYs9wK1ybLM+PxE5zwnRHZjlBQSFNsuVImDIpU4hPC8MmSogQAkRoxQaHxyEJ3UNXEA50h8SGOKU+VpUHaOoqRiBH8z+MIyKtn5nTGQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/ccd638ac43343c2b2dfbacfbdd0cd99f/cbe2e/catalogue.webp 148w,
/static/ccd638ac43343c2b2dfbacfbdd0cd99f/3084c/catalogue.webp 295w,
/static/ccd638ac43343c2b2dfbacfbdd0cd99f/5ca24/catalogue.webp 590w,
/static/ccd638ac43343c2b2dfbacfbdd0cd99f/dad35/catalogue.webp 885w,
/static/ccd638ac43343c2b2dfbacfbdd0cd99f/2baf0/catalogue.webp 1180w,
/static/ccd638ac43343c2b2dfbacfbdd0cd99f/367e1/catalogue.webp 1903w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/webp"
        />
        <source
          srcset="/static/ccd638ac43343c2b2dfbacfbdd0cd99f/12f09/catalogue.png 148w,
/static/ccd638ac43343c2b2dfbacfbdd0cd99f/e4a3f/catalogue.png 295w,
/static/ccd638ac43343c2b2dfbacfbdd0cd99f/fcda8/catalogue.png 590w,
/static/ccd638ac43343c2b2dfbacfbdd0cd99f/efc66/catalogue.png 885w,
/static/ccd638ac43343c2b2dfbacfbdd0cd99f/c83ae/catalogue.png 1180w,
/static/ccd638ac43343c2b2dfbacfbdd0cd99f/cb9f4/catalogue.png 1903w"
          sizes="(max-width: 590px) 100vw, 590px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/ccd638ac43343c2b2dfbacfbdd0cd99f/fcda8/catalogue.png"
          alt="Rancher catalogue"
          title="Rancher catalogue"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>Rancher possède son propre catalogue d’applications, ces applications
sont sous la forme de groupes de stacks pré-configurées qui s’appuient
sur les images du Docker Hub :</p>
<ul>
<li>La stack Elastic ;</li>
<li>Janitor, un service basé sur docker-cleanup, pour nettoyer les images et conteneurs non-utilisés. ;</li>
<li>Traefik, un load balancer développé en Go par Emile Vauge de la Zstartup Containous ;</li>
<li>Gluster, un gestionnaire de volume partagé ;</li>
<li>Odoo, le célèbre ERP open source ;</li>
<li>etc.</li>
</ul>
<p>Il est aussi possible d’ajouter son propre
<a href="http://docs.rancher.com/rancher/v1.5/en/catalog/">catalogue de stacks d’entreprise</a></p>
<p>Je vous ai présenté ici les principales features de Rancher,
je ne peux que vous conseiller de le tester pour faire joujou avec vos
conteneurs Docker. Cependant, la question qu’on peut encore se poser
aujourd’hui reste la suivante : Rancher ne restera-t-il qu’un joujou
pour orchestrer des services ? On sait déjà que des entreprises comme
Orange et Sony commencent à l’utiliser pour des besoins interne
(cf : Sony et le playstation Network <a href="https://www.youtube.com/watch?v=hwhxXwT6zlw">https://www.youtube.com/watch?v=hwhxXwT6zlw</a>)</p>
<p>N’hésitez surtout pas à partager vos expériences avec Rancher.</p>
<p>Merci encore à Youcef Yekhlef, Christophe Furmaniak et à mon tuteur de
stage Christophe Tardella pour l’aide apportée à la rédaction de cet article.</p></section><hr style="margin-bottom:1.75rem"/><footer><div style="display:flex;margin-bottom:4.375rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.875rem;margin-bottom:0;min-width:50px;border-radius:100%"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAQDBQH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGnbkVlSUcX0NAf/8QAHBAAAgICAwAAAAAAAAAAAAAAAQIAEQMSISNB/9oACAEBAAEFAmstWsuLn7HzxX2Ht8BiJ//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EAB0QAAICAQUAAAAAAAAAAAAAAAERAAIQITEyUWH/2gAIAQEABj8CFakV9nJ4L2MCR7UYzpP/xAAcEAEAAwACAwAAAAAAAAAAAAABABExIUFRYXH/2gAIAQEAAT8hwhLVGgPqw1OQI5WZKi/sgEDwguHuH0p//9oADAMBAAIAAwAAABADzwD/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAdEAEAAwADAAMAAAAAAAAAAAABABEhMVFhQXGx/9oACAEBAAE/EHeV5TghR7sREMygEfZt9oIqytQfjP2FavgBXFVfc1BS6dPUo4MSMF8IZJC7n//Z" alt="Antoine Caron" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/6015f9a66916f3d0b4678826cc46ec6c/99438/profile-pic.jpg 1x,
/static/6015f9a66916f3d0b4678826cc46ec6c/aba1d/profile-pic.jpg 1.5x,
/static/6015f9a66916f3d0b4678826cc46ec6c/b315d/profile-pic.jpg 2x" /><img loading="lazy" width="50" height="50" srcset="/static/6015f9a66916f3d0b4678826cc46ec6c/99438/profile-pic.jpg 1x,
/static/6015f9a66916f3d0b4678826cc46ec6c/aba1d/profile-pic.jpg 1.5x,
/static/6015f9a66916f3d0b4678826cc46ec6c/b315d/profile-pic.jpg 2x" src="/static/6015f9a66916f3d0b4678826cc46ec6c/99438/profile-pic.jpg" alt="Antoine Caron" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Written by <strong>Antoine Caron</strong> <!-- -->who lives and works in Lyon (France) building useful things at Bedrock.<!-- --> <a href="https://twitter.com/Slashgear_">You should follow him on Twitter</a></p></div></footer></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/posts/kotlin/">← <!-- -->Kotlin in action</a></li><li><a rel="next" href="/posts/generator-rancher-catalog/">Generator Rancher Catalog<!-- --> →</a></li></ul></nav></main><footer>© <!-- -->2020<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-77930802-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/rancher/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-4e8b6123b519498f2317.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-481f03a4f5dd641d42b7.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-a9765ba4fcb6dfb5eb6e.js"],"component---src-pages-404-js":["/component---src-pages-404-js-1f11b6b1d5a4c5149d8a.js"],"component---src-pages-index-js":["/component---src-pages-index-js-acf4c0a749d1bff00f8f.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-a9765ba4fcb6dfb5eb6e.js" async=""></script><script src="/commons-efc2baa10946b3fecc7f.js" async=""></script><script src="/app-4e8b6123b519498f2317.js" async=""></script><script src="/styles-9000f50097b244213e8f.js" async=""></script><script src="/webpack-runtime-bd0ac831fe91f8736fb6.js" async=""></script></body></html>