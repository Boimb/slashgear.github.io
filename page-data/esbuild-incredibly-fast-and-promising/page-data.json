{"componentChunkName":"component---src-templates-blog-post-js","path":"/esbuild-incredibly-fast-and-promising/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://slashgear.github.io"}},"config":{"html":"<p>Written by <strong>Antoine Caron</strong> who lives and works in Lyon (France) building useful things at <a href=\"https://www.bedrockstreaming.com/\">Bedrock</a>.\nYou should follow him <a href=\"https://twitter.com/Slashgear_\">on Twitter</a>.\nTake a look at <a href=\"/friends-you-should-follow\">my friends websites</a>.</p>","fields":{"slug":"/"},"frontmatter":{"title":"Antoine Caron","language":"en"}},"markdownRemark":{"id":"a03eead4-fde0-52d7-b60f-5db5dd862442","excerpt":"I‚Äôve been playing with JS bundlers for several years.\nStill convinced of the necessity of using these tools (don‚Äôt let me believe that you‚Ä¶","html":"<p>I‚Äôve been playing with JS bundlers for several years.\nStill convinced of the necessity of using these tools (don‚Äôt let me believe that you don‚Äôt package your JS modules in production üòÖ), I played a lot with <a href=\"/en/webpack/\">webpack</a>.\nEspecially for performance, optimization and custom plugins usage issues.</p>\n<p>I still think that in 2021, webpack is the most industrial and successful solution to <em>bundle</em> my web applications.\nI hear that tools like <em>parcel</em> and <em>rollup</em> are still good alternatives.\nHowever, webpack probably has the biggest community and is used by many projects.</p>\n<p>But let‚Äôs face it, today we are satisfied with these <em>bundling</em> tools despite their poor performance.\nI work every day on a project with several thousands of ‚Äúmodules‚Äù solved by webpack and it is sometimes a pain ü•±.</p>\n<blockquote>\n<p>Despite an intensive use of cache and workers, webpack shows some limitations to package large applications.</p>\n</blockquote>\n<h2 id=\"why-does-esbuild-look-interesting-\" style=\"position:relative;\"><a href=\"#why-does-esbuild-look-interesting-\" aria-label=\"why does esbuild look interesting  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Why does esbuild look interesting ?</h2>\n<p>I can‚Äôt think of an easier way to express it than to explain it to you simply:</p>\n<blockquote>\n<p>The first time I ran <code class=\"language-text\">esbuild</code> on my test web app, I thought it crashed when in fact it ran at an absolutely insane speed.</p>\n</blockquote>\n<p>To install it, it‚Äôs not complicated:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> -D esbuild</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -D esbuild</code></pre></div>\n<p>Or even with <a href=\"https://www.npmjs.com/package/npx\">NPX</a></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npx esbuild --version</code></pre></div>\n<p>Being written in Go, a WASM version and binaries for the main architectures are available.\n<code class=\"language-text\">esbuild</code> bets on native Go to take advantage of a maximum of parallelization solutions and a better memory management.</p>\n<h3 id=\"a-lean-api-by-design\" style=\"position:relative;\"><a href=\"#a-lean-api-by-design\" aria-label=\"a lean api by design permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A lean API by design</h3>\n<p>Globally the API of <code class=\"language-text\">esbuild</code> is really simple, in 30 minutes you have read all the docs of possible settings.\nThis is far from the 3-4 hours needed to read the whole documentation of a webpack for example.\nIn spite of a configuration that might seem limited, I am still pleasantly surprised.\nI have the impression that we are really close to having the <em>‚Äúright grammar‚Äù</em> that we need to do bundling.</p>\n<p><code class=\"language-text\">esbuild</code> offers 3 consumption modes:</p>\n<h4 id=\"cli\" style=\"position:relative;\"><a href=\"#cli\" aria-label=\"cli permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CLI</h4>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">esbuild app.jsx --bundle --minify --sourcemap --target<span class=\"token operator\">=</span>chrome58,firefox57,safari11,edge16</code></pre></div>\n<h4 id=\"go\" style=\"position:relative;\"><a href=\"#go\" aria-label=\"go permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GO</h4>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"github.com/evanw/esbuild/pkg/api\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"os\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  result <span class=\"token operator\">:=</span> api<span class=\"token punctuation\">.</span><span class=\"token function\">Build</span><span class=\"token punctuation\">(</span>api<span class=\"token punctuation\">.</span>BuildOptions<span class=\"token punctuation\">{</span>\n    EntryPoints<span class=\"token punctuation\">:</span>       <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"app.jsx\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    Bundle<span class=\"token punctuation\">:</span>            <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    MinifyWhitespace<span class=\"token punctuation\">:</span>  <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    MinifyIdentifiers<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    MinifySyntax<span class=\"token punctuation\">:</span>      <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    Engines<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>api<span class=\"token punctuation\">.</span>Engine<span class=\"token punctuation\">{</span>\n      <span class=\"token punctuation\">{</span>api<span class=\"token punctuation\">.</span>EngineChrome<span class=\"token punctuation\">,</span> <span class=\"token string\">\"58\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>api<span class=\"token punctuation\">.</span>EngineFirefox<span class=\"token punctuation\">,</span> <span class=\"token string\">\"57\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>api<span class=\"token punctuation\">.</span>EngineSafari<span class=\"token punctuation\">,</span> <span class=\"token string\">\"11\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>api<span class=\"token punctuation\">.</span>EngineEdge<span class=\"token punctuation\">,</span> <span class=\"token string\">\"16\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    Write<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>Errors<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token punctuation\">{</span>\n    os<span class=\"token punctuation\">.</span><span class=\"token function\">Exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"js\" style=\"position:relative;\"><a href=\"#js\" aria-label=\"js permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JS</h4>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'esbuild'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">buildSync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  entryPoints<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'app.jsx'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  bundle<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  minify<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  sourcemap<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  target<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'chrome58'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'firefox57'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'safari11'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'edge16'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  outfile<span class=\"token operator\">:</span> <span class=\"token string\">'out.js'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>In my opinion, the CLI is still very practical for testing things, but in a more ‚Äúindustrial‚Äù use, we still prefer the JS or GO format.</p>\n<h3 id=\"plugin-mechanics\" style=\"position:relative;\"><a href=\"#plugin-mechanics\" aria-label=\"plugin mechanics permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plugin mechanics</h3>\n<p><a href=\"https://github.com/evanw\">Evan Wallace</a> the creator and core maintainer of <code class=\"language-text\">esbuild</code> makes no secret of the fact that he doesn‚Äôt want his tool to meet 100% of the needs that one can have in the web world.\nHowever, this doesn‚Äôt mean that we can‚Äôt use this tool in specific cases.</p>\n<p>As we can see with other bundlers, <code class=\"language-text\">esbuild</code> offers the mechanics of plugins that allow you to do many things.\nTo avoid maintaining all these specific needs, the creator relies on the community to create all the plugins you could want.\nAnd clearly, the community is there, I let you see <a href=\"https://github.com/esbuild/community-plugins\">this page that lists some plugins</a>.</p>\n<h3 id=\"the-most-interesting-features\" style=\"position:relative;\"><a href=\"#the-most-interesting-features\" aria-label=\"the most interesting features permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The most interesting features</h3>\n<p>I‚Äôm not going to list here the features that seem to me the heart of a Web bundler like code splitting, injection, minification.\nHowever, I was surprised by some features that are not found elsewhere.</p>\n<h4 id=\"an-easy-to-understand-architecture\" style=\"position:relative;\"><a href=\"#an-easy-to-understand-architecture\" aria-label=\"an easy to understand architecture permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>An easy to understand architecture</h4>\n<p>Clearly, what makes the strength of <code class=\"language-text\">esbuild</code> compared to its competitors is its architecture which can be summarized simply.\nIt is easy to understand that by combining the parallelization of the build steps and the reduction of the number of readings of the AST.\nI invite you to read <a href=\"https://esbuild.github.io/faq/#why-is-esbuild-fast\">more explanations in the doc</a>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/111dc8e0d4f60fb0fc3210264a258423/66632/build-pipeline.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABt0lEQVQoz12TS5PBUBCF8/9/DWWqWKRqrGxYYKEYrxLvEI+QIJKYzz13zJizSLXuPt3ndjcny7L7/R4EQRiGSZI8DPI857vb7VzX/TQ4n8/y3263NE2V5oxGoyiK1uv14XCI4/h6vZ5OJ1LJwN9oNOr1+mAwwJ5MJrPZjBBpljwej2mYG+Alyfd9hFAFUZ7nTadT8vBTpdVqXS4XNCLWdoZD9vF4RJLypB/yfr+nFiFqkcNDiMK3ZClMDHBh4yEVg1rk8Qpo2+2WQpEBUUtGLR34QiYAgQBffsInhJNx0BwytfCrNBQnNSAJgt6pAP0DAznzd2QGDt1pNZ/PPYPNZoMXZ61W+zDAo0H8ZdppQyPAMtrttvpQKzZgMYyadcBnwmhGP/PD/t2zZotajUHD054Rr/HqSLIfWDKr73a7pVKpUqkUi8XVaqWxY9Cz3+93Oh1sndeLZsmEWcNwOPwy0FZpy20VCoVyuVytVqmisT3e4fAMDZNuWgOvxUAqL0KXjpEvynu93uv+n2Q9ktOhP4NRCZFZLKV1HhTFbjaboYE8TzIbXiwWjH25XKr5P4X6k2moFH3dwjfa11MddistwgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/111dc8e0d4f60fb0fc3210264a258423/ba381/build-pipeline.webp 200w,\n/static/111dc8e0d4f60fb0fc3210264a258423/7f61c/build-pipeline.webp 400w,\n/static/111dc8e0d4f60fb0fc3210264a258423/d00b9/build-pipeline.webp 800w,\n/static/111dc8e0d4f60fb0fc3210264a258423/92f8c/build-pipeline.webp 1200w,\n/static/111dc8e0d4f60fb0fc3210264a258423/ca108/build-pipeline.webp 1504w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/111dc8e0d4f60fb0fc3210264a258423/772e8/build-pipeline.png 200w,\n/static/111dc8e0d4f60fb0fc3210264a258423/e17e5/build-pipeline.png 400w,\n/static/111dc8e0d4f60fb0fc3210264a258423/5a190/build-pipeline.png 800w,\n/static/111dc8e0d4f60fb0fc3210264a258423/c1b63/build-pipeline.png 1200w,\n/static/111dc8e0d4f60fb0fc3210264a258423/66632/build-pipeline.png 1504w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/111dc8e0d4f60fb0fc3210264a258423/5a190/build-pipeline.png\"\n            alt=\"esbuild architecture diagram\"\n            title=\"esbuild architecture diagram\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h4 id=\"browser-targets\" style=\"position:relative;\"><a href=\"#browser-targets\" aria-label=\"browser targets permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Browser targets</h4>\n<p>By default <code class=\"language-text\">esbuild</code> allows you to define the target of <em>your</em> build.\nWhat <em>level</em> of javascript do you want to achieve?</p>\n<p>Usually we use a suite of tools like <code class=\"language-text\">@babel/preset-env</code> and a <code class=\"language-text\">browserlist</code> to make sure we generate the JS compatible with our targeting.\nBabel is great, I use it every day, but piling up different tools for <em>bundling</em> is clearly not a good solution in my eyes.\nIt adds a lot of complexity:</p>\n<ul>\n<li>instead of learning to use a simple bundler tool, I have to learn a targeted transpilation tool on top of that</li>\n<li>I have to maintain two dependencies</li>\n<li>going through a third party librairy can reduce performances (this is a bit the bet of <code class=\"language-text\">esbuild</code>)</li>\n</ul>\n<h4 id=\"the-server-mode\" style=\"position:relative;\"><a href=\"#the-server-mode\" aria-label=\"the server mode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The server mode</h4>\n<p><code class=\"language-text\">esbuild</code> is so fast that it can afford to expose you an HTTP server on a folder that contains the result of your compilation on each request.\nOther tools usually rely on a <em>watch</em> mode that watches for files that change to start a build.</p>\n<p>The <em>watch</em> mode also exists with <code class=\"language-text\">esbuild</code>, but the <code class=\"language-text\">serve</code> mode seems to me even nicer because you just have to refresh your browser to have the latest version of your application locally.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'esbuild'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">serve</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span>\n      servedir<span class=\"token operator\">:</span> <span class=\"token string\">'www'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      entryPoints<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'src/app.js'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      outdir<span class=\"token operator\">:</span> <span class=\"token string\">'www/js'</span><span class=\"token punctuation\">,</span>\n      bundle<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">server</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Call \"stop\" on the web server when you're done</span>\n    server<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"but-then-we-stop-everything-and-go-on-it\" style=\"position:relative;\"><a href=\"#but-then-we-stop-everything-and-go-on-it\" aria-label=\"but then we stop everything and go on it permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>But then we stop everything and go on it?</h2>\n<blockquote>\n<p>Let‚Äôs save time, the answer for me is clearly no.</p>\n</blockquote>\n<p>As the creator says in the <a href=\"https://esbuild.github.io/faq/#production-readiness\">FAQ of the doc</a> in all honesty, the project is not to be considered as being in alpha.\nHowever, the tool itself does not yet have all the features that would make it a good replacement for the previous generation bundlers.\nI‚Äôm thinking in particular of the absence of native HMR, or of a perfectible splitting code.</p>\n<p>However, one should not remain closed on this question.\nClearly <code class=\"language-text\">esbuild</code> has very strong points that are missing in the current ecosystem.\nThe community, still in its infancy, is rather active and the exchanges in the Issues and PR of the repo are very interesting.</p>\n<p>What I really appreciate in this project are the parts taken: a focus on performance, an API that remains simple.\nFinally, for once a bundler doesn‚Äôt have 1000 dependencies and add 100Mb in my <code class=\"language-text\">node_modules</code> folder, it‚Äôs nice enough to note.</p>\n<p>I‚Äôll finish by saying that <code class=\"language-text\">esbuild</code> is not the only alternative that is offered to us in this new generation of <em>bundler</em>.\nI intend to do this kind of analysis on tools like <a href=\"https://vitejs.dev/\">Vite</a> or <a href=\"https://www.snowpack.dev/\">Snowpack</a>.</p>","headings":[{"value":"Why does esbuild look interesting ?"},{"value":"A lean API by design"},{"value":"CLI"},{"value":"GO"},{"value":"JS"},{"value":"Plugin mechanics"},{"value":"The most interesting features"},{"value":"An easy to understand architecture"},{"value":"Browser targets"},{"value":"The server mode"},{"value":"But then we stop everything and go on it?"}],"wordCount":{"words":941},"tableOfContents":"<ul>\n<li>\n<p><a href=\"/esbuild-incredibly-fast-and-promising/#why-does-esbuild-look-interesting-\">Why does esbuild look interesting ?</a></p>\n<ul>\n<li>\n<p><a href=\"/esbuild-incredibly-fast-and-promising/#a-lean-api-by-design\">A lean API by design</a></p>\n<ul>\n<li><a href=\"/esbuild-incredibly-fast-and-promising/#cli\">CLI</a></li>\n<li><a href=\"/esbuild-incredibly-fast-and-promising/#go\">GO</a></li>\n<li><a href=\"/esbuild-incredibly-fast-and-promising/#js\">JS</a></li>\n</ul>\n</li>\n<li><a href=\"/esbuild-incredibly-fast-and-promising/#plugin-mechanics\">Plugin mechanics</a></li>\n<li>\n<p><a href=\"/esbuild-incredibly-fast-and-promising/#the-most-interesting-features\">The most interesting features</a></p>\n<ul>\n<li><a href=\"/esbuild-incredibly-fast-and-promising/#an-easy-to-understand-architecture\">An easy to understand architecture</a></li>\n<li><a href=\"/esbuild-incredibly-fast-and-promising/#browser-targets\">Browser targets</a></li>\n<li><a href=\"/esbuild-incredibly-fast-and-promising/#the-server-mode\">The server mode</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"/esbuild-incredibly-fast-and-promising/#but-then-we-stop-everything-and-go-on-it\">But then we stop everything and go on it?</a></li>\n</ul>","frontmatter":{"title":"Esbuild, the incredibly fast üí® and promising bundler üìà!","date":"March 14, 2021","dateJson":"2021-03-14","translations":["fr","esbuild-bundler-incroyablement-rapide-et-prometteur"],"description":"Playing with traditional bundlers like webpack for several years, I propose here my opinion on the esbuild bundler.","language":"en","tags":["webpack","js","bundler"],"hero":{"childImageSharp":{"fluid":{"aspectRatio":2.6881720430107525,"src":"/static/d5c49e5c717049f47b960f25bf45be3d/31987/esbuild.png","srcSet":"/static/d5c49e5c717049f47b960f25bf45be3d/e1953/esbuild.png 250w,\n/static/d5c49e5c717049f47b960f25bf45be3d/46604/esbuild.png 500w,\n/static/d5c49e5c717049f47b960f25bf45be3d/31987/esbuild.png 1000w,\n/static/d5c49e5c717049f47b960f25bf45be3d/0dadc/esbuild.png 1500w,\n/static/d5c49e5c717049f47b960f25bf45be3d/ed396/esbuild.png 2000w,\n/static/d5c49e5c717049f47b960f25bf45be3d/c3ed8/esbuild.png 2100w","srcWebp":"/static/d5c49e5c717049f47b960f25bf45be3d/e30b5/esbuild.webp","srcSetWebp":"/static/d5c49e5c717049f47b960f25bf45be3d/7ca0e/esbuild.webp 250w,\n/static/d5c49e5c717049f47b960f25bf45be3d/e9589/esbuild.webp 500w,\n/static/d5c49e5c717049f47b960f25bf45be3d/e30b5/esbuild.webp 1000w,\n/static/d5c49e5c717049f47b960f25bf45be3d/90fb1/esbuild.webp 1500w,\n/static/d5c49e5c717049f47b960f25bf45be3d/37117/esbuild.webp 2000w,\n/static/d5c49e5c717049f47b960f25bf45be3d/90b9d/esbuild.webp 2100w","sizes":"(max-width: 1000px) 100vw, 1000px"},"image":{"src":"/static/d5c49e5c717049f47b960f25bf45be3d/05d05/esbuild.png"},"image16x9":{"src":"/static/d5c49e5c717049f47b960f25bf45be3d/c923e/esbuild.png"},"image4x3":{"src":"/static/d5c49e5c717049f47b960f25bf45be3d/245b0/esbuild.png"},"image1x1":{"src":"/static/d5c49e5c717049f47b960f25bf45be3d/9cb58/esbuild.png"}}}}},"relatedPosts":{"edges":[{"node":{"excerpt":"I decided this year to try the adventofcode2020 challenge in JS to see.\nI published the solutions I found in a public repository on Github‚Ä¶","fields":{"slug":"/advent-of-code-2020/"},"timeToRead":1,"frontmatter":{"title":"üéÑ Advent of Code 2020 üéÑ: my solutions with JS","date":"December 04, 2020","dateJson":"2020-12-04","description":"I decided this year to try the adventofcode2020 challenge in JS to see. I published the solutions I found in a public repository on Github.","tags":["js","oss","github","kata"]}}},{"node":{"excerpt":"This end of the school year as a college professor is not very usual.\nIn a few days, I‚Äôm about to give my first courses to distance students‚Ä¶","fields":{"slug":"/gol-tribute/"},"timeToRead":2,"frontmatter":{"title":"Personal tribute to \"Game of Life\"","date":"April 20, 2020","dateJson":"2020-04-20","description":"Trying to implement the Game of Life in Javascript in the browser and without framework.","tags":["js","canvas"]}}},{"node":{"excerpt":"How did I cut in half my project‚Äôs webpack build time ? Who never complained about the infinite duration of a webpack build on a project ?\nI‚Ä¶","fields":{"slug":"/hunting-webpack-performances/"},"timeToRead":6,"frontmatter":{"title":"How to boost the speed of your webpack build?","date":"March 01, 2020","dateJson":"2020-03-01","description":"A story of performance optimization and application of the Pareto principle to a webpack build that has become far too long.","tags":["webpack","webperf"]}}},{"node":{"excerpt":"A few days ago, an announcement that many expected was published in TC39 Stage 3. Optional Chaining Example here with It is a great news for‚Ä¶","fields":{"slug":"/optional-chaining-trap/"},"timeToRead":3,"frontmatter":{"title":"üò∞ Optional chaining trap !","date":"July 31, 2019","dateJson":"2019-07-31","description":"Sometimes a new feature for ES should not be used immediately. Polyfill can sometimes be very heavy.","tags":["js","babel"]}}}]}},"pageContext":{"slug":"/esbuild-incredibly-fast-and-promising/","tags":["webpack","js","bundler"],"language":"en","previous":{"fields":{"slug":"/advent-of-code-2020/"},"frontmatter":{"title":"üéÑ Advent of Code 2020 üéÑ: my solutions with JS","tags":["js","oss","github","kata"]}},"next":null}},"staticQueryHashes":["1264045386","1666466174","4061151221"]}