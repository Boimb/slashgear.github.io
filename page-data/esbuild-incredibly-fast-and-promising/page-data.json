{"componentChunkName":"component---src-templates-blog-post-js","path":"/esbuild-incredibly-fast-and-promising/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://blog.slashgear.dev"}},"config":{"html":"<p>Written by <strong>Antoine Caron</strong> who lives and works in Lyon (France) building useful things at <a href=\"https://www.bedrockstreaming.com/\">Bedrock</a>.\nYou should follow him <a href=\"https://twitter.com/Slashgear_\">on Twitter</a>.\nTake a look at <a href=\"/friends-you-should-follow\">my friends websites</a>.\nYou could also <a href=\"/conferences\">take a look at the conferences I gave</a>.\nIf you want to see my professional background, <a href=\"/resume\">my resume is available here</a>.</p>","fields":{"slug":"/"},"frontmatter":{"title":"Antoine Caron","language":"en"}},"markdownRemark":{"id":"a03eead4-fde0-52d7-b60f-5db5dd862442","excerpt":"I‚Äôve been playing with JS bundlers for several years.\nStill convinced of the necessity of using these tools (don‚Äôt let me believe that you‚Ä¶","html":"<p>I‚Äôve been playing with JS bundlers for several years.\nStill convinced of the necessity of using these tools (don‚Äôt let me believe that you don‚Äôt package your JS modules in production üòÖ), I played a lot with <a href=\"/en/webpack/\">webpack</a>.\nEspecially for performance, optimization and custom plugins usage issues.</p>\n<p>I still think that in 2021, webpack is the most industrial and successful solution to <em>bundle</em> my web applications.\nI hear that tools like <em>parcel</em> and <em>rollup</em> are still good alternatives.\nHowever, webpack probably has the biggest community and is used by many projects.</p>\n<p>But let‚Äôs face it, today we are satisfied with these <em>bundling</em> tools despite their poor performance.\nI work every day on a project with several thousands of ‚Äúmodules‚Äù solved by webpack and it is sometimes a pain ü•±.</p>\n<blockquote>\n<p>Despite an intensive use of cache and workers, webpack shows some limitations to package large applications.</p>\n</blockquote>\n<h2 id=\"why-does-esbuild-look-interesting-\" style=\"position:relative;\"><a href=\"#why-does-esbuild-look-interesting-\" aria-label=\"why does esbuild look interesting  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Why does esbuild look interesting ?</h2>\n<p>I can‚Äôt think of an easier way to express it than to explain it to you simply:</p>\n<blockquote>\n<p>The first time I ran <code class=\"language-text\">esbuild</code> on my test web app, I thought it crashed when in fact it ran at an absolutely insane speed.</p>\n</blockquote>\n<p>To install it, it‚Äôs not complicated:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> -D esbuild</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -D esbuild</code></pre></div>\n<p>Or even with <a href=\"https://www.npmjs.com/package/npx\">NPX</a></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npx esbuild --version</code></pre></div>\n<p>Being written in Go, a WASM version and binaries for the main architectures are available.\n<code class=\"language-text\">esbuild</code> bets on native Go to take advantage of a maximum of parallelization solutions and a better memory management.</p>\n<h3 id=\"a-lean-api-by-design\" style=\"position:relative;\"><a href=\"#a-lean-api-by-design\" aria-label=\"a lean api by design permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A lean API by design</h3>\n<p>Globally the API of <code class=\"language-text\">esbuild</code> is really simple, in 30 minutes you have read all the docs of possible settings.\nThis is far from the 3-4 hours needed to read the whole documentation of a webpack for example.\nIn spite of a configuration that might seem limited, I am still pleasantly surprised.\nI have the impression that we are really close to having the <em>‚Äúright grammar‚Äù</em> that we need to do bundling.</p>\n<p><code class=\"language-text\">esbuild</code> offers 3 consumption modes:</p>\n<h4 id=\"cli\" style=\"position:relative;\"><a href=\"#cli\" aria-label=\"cli permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CLI</h4>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">esbuild app.jsx --bundle --minify --sourcemap --target<span class=\"token operator\">=</span>chrome58,firefox57,safari11,edge16</code></pre></div>\n<h4 id=\"go\" style=\"position:relative;\"><a href=\"#go\" aria-label=\"go permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GO</h4>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"github.com/evanw/esbuild/pkg/api\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"os\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  result <span class=\"token operator\">:=</span> api<span class=\"token punctuation\">.</span><span class=\"token function\">Build</span><span class=\"token punctuation\">(</span>api<span class=\"token punctuation\">.</span>BuildOptions<span class=\"token punctuation\">{</span>\n    EntryPoints<span class=\"token punctuation\">:</span>       <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"app.jsx\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    Bundle<span class=\"token punctuation\">:</span>            <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    MinifyWhitespace<span class=\"token punctuation\">:</span>  <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    MinifyIdentifiers<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    MinifySyntax<span class=\"token punctuation\">:</span>      <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    Engines<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>api<span class=\"token punctuation\">.</span>Engine<span class=\"token punctuation\">{</span>\n      <span class=\"token punctuation\">{</span>api<span class=\"token punctuation\">.</span>EngineChrome<span class=\"token punctuation\">,</span> <span class=\"token string\">\"58\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>api<span class=\"token punctuation\">.</span>EngineFirefox<span class=\"token punctuation\">,</span> <span class=\"token string\">\"57\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>api<span class=\"token punctuation\">.</span>EngineSafari<span class=\"token punctuation\">,</span> <span class=\"token string\">\"11\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>api<span class=\"token punctuation\">.</span>EngineEdge<span class=\"token punctuation\">,</span> <span class=\"token string\">\"16\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    Write<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>Errors<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token punctuation\">{</span>\n    os<span class=\"token punctuation\">.</span><span class=\"token function\">Exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"js\" style=\"position:relative;\"><a href=\"#js\" aria-label=\"js permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JS</h4>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'esbuild'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">buildSync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">entryPoints</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'app.jsx'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">bundle</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">minify</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">sourcemap</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'chrome58'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'firefox57'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'safari11'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'edge16'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">outfile</span><span class=\"token operator\">:</span> <span class=\"token string\">'out.js'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>In my opinion, the CLI is still very practical for testing things, but in a more ‚Äúindustrial‚Äù use, we still prefer the JS or GO format.</p>\n<h3 id=\"plugin-mechanics\" style=\"position:relative;\"><a href=\"#plugin-mechanics\" aria-label=\"plugin mechanics permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plugin mechanics</h3>\n<p><a href=\"https://github.com/evanw\">Evan Wallace</a> the creator and core maintainer of <code class=\"language-text\">esbuild</code> makes no secret of the fact that he doesn‚Äôt want his tool to meet 100% of the needs that one can have in the web world.\nHowever, this doesn‚Äôt mean that we can‚Äôt use this tool in specific cases.</p>\n<p>As we can see with other bundlers, <code class=\"language-text\">esbuild</code> offers the mechanics of plugins that allow you to do many things.\nTo avoid maintaining all these specific needs, the creator relies on the community to create all the plugins you could want.\nAnd clearly, the community is there, I let you see <a href=\"https://github.com/esbuild/community-plugins\">this page that lists some plugins</a>.</p>\n<h3 id=\"the-most-interesting-features\" style=\"position:relative;\"><a href=\"#the-most-interesting-features\" aria-label=\"the most interesting features permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The most interesting features</h3>\n<p>I‚Äôm not going to list here the features that seem to me the heart of a Web bundler like code splitting, injection, minification.\nHowever, I was surprised by some features that are not found elsewhere.</p>\n<h4 id=\"an-easy-to-understand-architecture\" style=\"position:relative;\"><a href=\"#an-easy-to-understand-architecture\" aria-label=\"an easy to understand architecture permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>An easy to understand architecture</h4>\n<p>Clearly, what makes the strength of <code class=\"language-text\">esbuild</code> compared to its competitors is its architecture which can be summarized simply.\nIt is easy to understand that by combining the parallelization of the build steps and the reduction of the number of readings of the AST.\nI invite you to read <a href=\"https://esbuild.github.io/faq/#why-is-esbuild-fast\">more explanations in the doc</a>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/111dc8e0d4f60fb0fc3210264a258423/66632/build-pipeline.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/klEQVQoz12Ty3LiMBBF+f+vCZWpgkWqJis2sAAWKRgILmObOLZly0Kt92Mqag8zmbNs66pbt69n3ntrLSGEMWaMiYkQQoyx7/uXl5efCc451rXWzjk8NrtcLgDw+flJKRVCKKXu9zvn3DkHAJvNZr1en89nAMjzvCxLzrkQYhJnWWaMCQkhBAA0TUMIUUp576/Xa1EUMUYAWK/Xu91OSskYs9ZOnYUQhJBxHLXWeA7n994Pw9A0zTiOSilCSN/3ACClnMQ4oUlYa51znHOllHNOay2lvN/vhJCu64ZhgIRSahKHELz3IQRjDABora21WmtjjHPOew8AlNJxHIdhkFIaY/DqEMLMJbz3Wmt8J37gnJMEFsN3fGIWY7TWVlV1TbRt672PMa5Wqx+Jtm3RiH+Vk9tVVQHA+Xze7/fYx1orEmVZFkWRZVnbtowxKSWltGkaxtjfPaO3zjm0Ac3DPXPO0V4Mif/DJM7z/HA4PD8/L5fL+Xxe1zXaXtd1lmWn0+nt7a2ua4zXQzaJT6dT13Xv7++/ErhV59xms3l6elosFq+vr1mWoW3xOzNKKZpprcU1CCGMMVLKy+WS5zmGUQjBOT8ej4/8f4nxkX3fd13Xti1egeJhGCilGA+lFKV0u92yBFa+xFrr2+1WVdXHxwc2/29C/MnQVCnlIwu/AdrXUx0OPquzAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/111dc8e0d4f60fb0fc3210264a258423/ba381/build-pipeline.webp 200w,\n/static/111dc8e0d4f60fb0fc3210264a258423/7f61c/build-pipeline.webp 400w,\n/static/111dc8e0d4f60fb0fc3210264a258423/d00b9/build-pipeline.webp 800w,\n/static/111dc8e0d4f60fb0fc3210264a258423/92f8c/build-pipeline.webp 1200w,\n/static/111dc8e0d4f60fb0fc3210264a258423/ca108/build-pipeline.webp 1504w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/111dc8e0d4f60fb0fc3210264a258423/772e8/build-pipeline.png 200w,\n/static/111dc8e0d4f60fb0fc3210264a258423/e17e5/build-pipeline.png 400w,\n/static/111dc8e0d4f60fb0fc3210264a258423/5a190/build-pipeline.png 800w,\n/static/111dc8e0d4f60fb0fc3210264a258423/c1b63/build-pipeline.png 1200w,\n/static/111dc8e0d4f60fb0fc3210264a258423/66632/build-pipeline.png 1504w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/111dc8e0d4f60fb0fc3210264a258423/5a190/build-pipeline.png\"\n            alt=\"esbuild architecture diagram\"\n            title=\"esbuild architecture diagram\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h4 id=\"browser-targets\" style=\"position:relative;\"><a href=\"#browser-targets\" aria-label=\"browser targets permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Browser targets</h4>\n<p>By default <code class=\"language-text\">esbuild</code> allows you to define the target of <em>your</em> build.\nWhat <em>level</em> of javascript do you want to achieve?</p>\n<p>Usually we use a suite of tools like <code class=\"language-text\">@babel/preset-env</code> and a <code class=\"language-text\">browserlist</code> to make sure we generate the JS compatible with our targeting.\nBabel is great, I use it every day, but piling up different tools for <em>bundling</em> is clearly not a good solution in my eyes.\nIt adds a lot of complexity:</p>\n<ul>\n<li>instead of learning to use a simple bundler tool, I have to learn a targeted transpilation tool on top of that</li>\n<li>I have to maintain two dependencies</li>\n<li>going through a third party librairy can reduce performances (this is a bit the bet of <code class=\"language-text\">esbuild</code>)</li>\n</ul>\n<h4 id=\"the-server-mode\" style=\"position:relative;\"><a href=\"#the-server-mode\" aria-label=\"the server mode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The server mode</h4>\n<p><code class=\"language-text\">esbuild</code> is so fast that it can afford to expose you an HTTP server on a folder that contains the result of your compilation on each request.\nOther tools usually rely on a <em>watch</em> mode that watches for files that change to start a build.</p>\n<p>The <em>watch</em> mode also exists with <code class=\"language-text\">esbuild</code>, but the <code class=\"language-text\">serve</code> mode seems to me even nicer because you just have to refresh your browser to have the latest version of your application locally.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'esbuild'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">serve</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">servedir</span><span class=\"token operator\">:</span> <span class=\"token string\">'www'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">entryPoints</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'src/app.js'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">outdir</span><span class=\"token operator\">:</span> <span class=\"token string\">'www/js'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">bundle</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">server</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Call \"stop\" on the web server when you're done</span>\n    server<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"but-then-we-stop-everything-and-go-on-it\" style=\"position:relative;\"><a href=\"#but-then-we-stop-everything-and-go-on-it\" aria-label=\"but then we stop everything and go on it permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>But then we stop everything and go on it?</h2>\n<blockquote>\n<p>Let‚Äôs save time, the answer for me is clearly no.</p>\n</blockquote>\n<p>As the creator says in the <a href=\"https://esbuild.github.io/faq/#production-readiness\">FAQ of the doc</a> in all honesty, the project is not to be considered as being in alpha.\nHowever, the tool itself does not yet have all the features that would make it a good replacement for the previous generation bundlers.\nI‚Äôm thinking in particular of the absence of native HMR, or of a perfectible splitting code.</p>\n<p>However, one should not remain closed on this question.\nClearly <code class=\"language-text\">esbuild</code> has very strong points that are missing in the current ecosystem.\nThe community, still in its infancy, is rather active and the exchanges in the Issues and PR of the repo are very interesting.</p>\n<p>What I really appreciate in this project are the parts taken: a focus on performance, an API that remains simple.\nFinally, for once a bundler doesn‚Äôt have 1000 dependencies and add 100Mb in my <code class=\"language-text\">node_modules</code> folder, it‚Äôs nice enough to note.</p>\n<p>I‚Äôll finish by saying that <code class=\"language-text\">esbuild</code> is not the only alternative that is offered to us in this new generation of <em>bundler</em>.\nI intend to do this kind of analysis on tools like <a href=\"https://vitejs.dev/\">Vite</a> or <a href=\"https://www.snowpack.dev/\">Snowpack</a>.</p>","headings":[{"value":"Why does esbuild look interesting ?"},{"value":"A lean API by design"},{"value":"CLI"},{"value":"GO"},{"value":"JS"},{"value":"Plugin mechanics"},{"value":"The most interesting features"},{"value":"An easy to understand architecture"},{"value":"Browser targets"},{"value":"The server mode"},{"value":"But then we stop everything and go on it?"}],"wordCount":{"words":941},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#why-does-esbuild-look-interesting-\">Why does esbuild look interesting ?</a></p>\n<ul>\n<li>\n<p><a href=\"#a-lean-api-by-design\">A lean API by design</a></p>\n<ul>\n<li><a href=\"#cli\">CLI</a></li>\n<li><a href=\"#go\">GO</a></li>\n<li><a href=\"#js\">JS</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#plugin-mechanics\">Plugin mechanics</a></p>\n</li>\n<li>\n<p><a href=\"#the-most-interesting-features\">The most interesting features</a></p>\n<ul>\n<li><a href=\"#an-easy-to-understand-architecture\">An easy to understand architecture</a></li>\n<li><a href=\"#browser-targets\">Browser targets</a></li>\n<li><a href=\"#the-server-mode\">The server mode</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#but-then-we-stop-everything-and-go-on-it\">But then we stop everything and go on it?</a></p>\n</li>\n</ul>","frontmatter":{"title":"Esbuild, the incredibly fast üí® and promising bundler üìà!","date":"March 14, 2021","dateJson":"2021-03-14","translations":["fr","esbuild-bundler-incroyablement-rapide-et-prometteur"],"description":"Playing with traditional bundlers like webpack for several years, I propose here my opinion on the esbuild bundler.","language":"en","tags":["webpack","javascript","bundler"],"hero":{"childImageSharp":{"fluid":{"aspectRatio":1.7857142857142858,"src":"/static/149abc0bb288e9a173d8fcbbc7dd994c/2a4de/esbuild.png","srcSet":"/static/149abc0bb288e9a173d8fcbbc7dd994c/6d161/esbuild.png 150w,\n/static/149abc0bb288e9a173d8fcbbc7dd994c/630fb/esbuild.png 300w,\n/static/149abc0bb288e9a173d8fcbbc7dd994c/2a4de/esbuild.png 600w,\n/static/149abc0bb288e9a173d8fcbbc7dd994c/db955/esbuild.png 900w,\n/static/149abc0bb288e9a173d8fcbbc7dd994c/f3583/esbuild.png 1200w,\n/static/149abc0bb288e9a173d8fcbbc7dd994c/e4d72/esbuild.png 1280w","srcWebp":"/static/149abc0bb288e9a173d8fcbbc7dd994c/ad85c/esbuild.webp","srcSetWebp":"/static/149abc0bb288e9a173d8fcbbc7dd994c/e7487/esbuild.webp 150w,\n/static/149abc0bb288e9a173d8fcbbc7dd994c/403a4/esbuild.webp 300w,\n/static/149abc0bb288e9a173d8fcbbc7dd994c/ad85c/esbuild.webp 600w,\n/static/149abc0bb288e9a173d8fcbbc7dd994c/210c1/esbuild.webp 900w,\n/static/149abc0bb288e9a173d8fcbbc7dd994c/99238/esbuild.webp 1200w,\n/static/149abc0bb288e9a173d8fcbbc7dd994c/135cd/esbuild.webp 1280w","sizes":"(max-width: 600px) 100vw, 600px"},"image":{"src":"/static/149abc0bb288e9a173d8fcbbc7dd994c/05d05/esbuild.png"},"image16x9":{"src":"/static/149abc0bb288e9a173d8fcbbc7dd994c/c923e/esbuild.png"},"image4x3":{"src":"/static/149abc0bb288e9a173d8fcbbc7dd994c/245b0/esbuild.png"},"image1x1":{"src":"/static/149abc0bb288e9a173d8fcbbc7dd994c/9cb58/esbuild.png"}}}}},"relatedPosts":{"edges":[{"node":{"excerpt":"Like last year, I am taking part in the advent of code 2021.\nAll my solution are opensource and free to reuse.\nI am doing it in Javascript‚Ä¶","fields":{"slug":"/advent-of-code-2021/"},"timeToRead":1,"frontmatter":{"title":"üéÑ Advent of Code 2021 üéÑ: my solutions with JS","date":"December 04, 2021","dateJson":"2021-12-04","description":null,"tags":["javascript","oss","github","adventOfCode"]}}},{"node":{"excerpt":"How not to throw away your application every two years? Feedback based on best practices applied to the web platform developed at Bedrock‚Ä¶","fields":{"slug":"/how-not-to-throw-away-your-web-application-after-two-years/"},"timeToRead":21,"frontmatter":{"title":"Best practices for Web application maintenance","date":"September 05, 2021","dateJson":"2021-09-05","description":"How not to throw away your project after 2 years? Feedback based on best practices applied to the web platform developed at Bedrock Streaming.","tags":["web","javascript","bedrock"]}}},{"node":{"excerpt":"After webpack, esbuild and vitejs, let‚Äôs take a look at snowpack.\nThe latter seems to be making a name for itself in the bundler ecosystem‚Ä¶","fields":{"slug":"/should-snowpack-replace-webpack/"},"timeToRead":7,"frontmatter":{"title":"Should we replace webpack by üóª Snowpack üóª?Ô∏è","date":"June 02, 2021","dateJson":"2021-06-02","description":"After articles on esbuild, quickly, I propose you to discover together snowpack to make an opinion.","tags":["webpack","snowpack","vitejs","bundler"]}}},{"node":{"excerpt":"After having dealt on this blog in several articles about webpack, I have started a new series of articles about new generation bundlers.\nIt‚Ä¶","fields":{"slug":"/vite-webpack-killer/"},"timeToRead":8,"frontmatter":{"title":"Vite, a new webpack killer ?!üòÆ","date":"March 26, 2021","dateJson":"2021-03-26","description":"After studying solutions such as Webpack and Esbuild, I had to look at tools such as Vite which, in my eyes, is part of a new generation.","tags":["webpack","esbuild","vitejs","bundler"]}}}]}},"pageContext":{"slug":"/esbuild-incredibly-fast-and-promising/","tags":["webpack","javascript","bundler"],"language":"en","previous":{"fields":{"slug":"/advent-of-code-2020/"},"frontmatter":{"title":"üéÑ Advent of Code 2020 üéÑ: my solutions with JS","tags":["javascript","oss","github","adventOfCode"]}},"next":{"fields":{"slug":"/vite-webpack-killer/"},"frontmatter":{"title":"Vite, a new webpack killer ?!üòÆ","tags":["webpack","esbuild","vitejs","bundler"]}}}},"staticQueryHashes":["1264045386","1666466174","2564629789","4061151221","62118570"]}