{"componentChunkName":"component---src-templates-blog-post-js","path":"/fr/use-reduced-motion/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://slashgear.github.io"}},"config":{"html":"<p>Ecrit par <strong>Antoine Caron</strong> qui vit et travaille à Lyon et développe des choses utiles à <a href=\"https://www.bedrockstreaming.com/\">Bedrock</a>.\nTu devrais le suivre sur <a href=\"https://twitter.com/Slashgear_\">Twitter</a>.\nN’hésites pas à aller voir <a href=\"/conferences\">ses conférences sur la page dédiée</a>.\nSi vous voulez voir mon parcours pro, <a href=\"/resume\">mon CV est disponible ici en 🇬🇧</a>.</p>","fields":{"slug":"/fr/"},"frontmatter":{"title":"Antoine Caron","language":"fr"}},"markdownRemark":{"id":"ee83a0df-2d01-5f4b-a0f7-ec7751e4abde","excerpt":"Tout part toujours d’une idée La semaine dernière, alors que je mettais en place le mode sombre sur mon site perso, je me suis motivé à…","html":"<h2 id=\"tout-part-toujours-dune-idée\" style=\"position:relative;\"><a href=\"#tout-part-toujours-dune-id%C3%A9e\" aria-label=\"tout part toujours dune idée permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tout part toujours d’une idée</h2>\n<p>La semaine dernière, alors que je mettais en place le mode sombre sur <a href=\"https://slashgear.github.io/fr/\">mon site perso</a>, je me suis motivé à travailler sur un nouveau package pour la communauté React.</p>\n<blockquote>\n<p>“Tiens, quelqu’un a partagé un hook pour gérer la feature <code class=\"language-text\">prefers-color-scheme</code> des navigateurs, c’est super pratique.”</p>\n</blockquote>\n<p>En quelques minutes, j’ai pu intégrer cette super feature sans me prendre la tête.\nC’est alors que j’ai repensé à cet <a href=\"https://web.dev/prefers-reduced-motion/\">article de blog génial sur une nouvelle feature pour l’accessibilité</a>.</p>\n<p>A l’époque, en lisant cet article, j’ai pris conscience que certains utilisateurs peuvent avoir de la gêne à consulter des pages web qui “gigottent”.\nEn effet, des élements d’une page qui bougent, qui zoom ou changent de couleurs peuvent énormément troubler l’usage et la compréhension du contenu de nos pages.\nCe n’est peut-être pas votre cas, mais beaucoup d’utilisateurs sont dans cette situation.</p>\n<p>Afin de vous permettre de mieux comprendre le problème, je vous propose une petite expérience avec une très courte vidéo.\nConcentrez-vous sur les personnes habillées de blanc et essayer de compter le nombre de passes.</p>\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <iframe src=\"https://www.youtube-nocookie.com/embed/Ahg6qcgoay4\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \"></iframe> </div>\n<p>Vous comprenez maintenant ?</p>\n<p>La <em>“superbe animation d’onboarding”</em> est peut-être très belle, mais elle perturbe énormément certains de vos utilisateurs.\nIls se retrouvent dans la même situation que vous avec cette vidéo.\nLes éléments en mouvements amènent des difficultés à saisir l’intégralité des informations que vous souhaitez transmettre.</p>\n<p>Heureusement, les OS et les navigateurs ont pris conscience des sujets d’accessibilité et fournissent aujourd’hui des outils.</p>\n<p><strong>Il est donc aujourd’hui de notre responsabilité d’intégrer ces solutions pour éviter de mettre certains de nos utilisateurs dans une situation de handicap.</strong></p>\n<p>Une <em>media query</em> vous permets donc de stopper vos animations pour les utilisateurs qui le souhaitent.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">prefers-reduced-motion</span><span class=\"token punctuation\">:</span> reduce<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">button</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Le <a href=\"https://caniuse.com/#feat=prefers-reduced-motion\">support de cette fonctionnalité</a> est même très correct.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/109310f0f5f4ab72be7c1e83a6ea85db/8f1fd/prefersReduceMotion-support-05-2020.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.500000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABlElEQVQY022Q32vTcBTF8w8KDhkoMmSCiuxhY/Nh6FBB3xQZmx0bfdiLOkrZ2o7hT9hSa7suXZuuTZrYpknT2ixNs3azvn/8tr768OEeDhfuOVdqGce0jBy2nqFVywqdneimlpn4YbvM1bn2Xy49jZ5TZNAVOrDo+zpSRz/C0WUcM0dL4NkFeq5K31XwHYVLsTQKaozGc0xvTG3Cn8Dgt68JX5v4V34VKdRihGf79MwCvkgbWiUu7DOG6h4j45CBXSFoiiOdMkG3gi+Oec1T/KZCt5EXAYr47Srn4x2RVrIPkxxEn5KILPBx8xGprSckI0vsbyyxuzZPcmuZrkhufn2PmYjS+BLDMhQcTeZn5Qg9fUAtFaNR/S5II+XnZ1mOznBzb4brH24wvTPNtZ0pZuN3uJ+4x2L8ASerz1nffMi7ldt8enyXNfkVmbfPUCIv+fFiAXnuFrk3K6jbr5EGbZWhqKI7Mt/MXdL1FJ+NOJabZehV6f9SuaiLal6JwCsTukU67RPxmjxh/Vi8p8DALf3TlsJf+N+PSuiOR6wAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/109310f0f5f4ab72be7c1e83a6ea85db/ba381/prefersReduceMotion-support-05-2020.webp 200w,\n/static/109310f0f5f4ab72be7c1e83a6ea85db/7f61c/prefersReduceMotion-support-05-2020.webp 400w,\n/static/109310f0f5f4ab72be7c1e83a6ea85db/d00b9/prefersReduceMotion-support-05-2020.webp 800w,\n/static/109310f0f5f4ab72be7c1e83a6ea85db/92f8c/prefersReduceMotion-support-05-2020.webp 1200w,\n/static/109310f0f5f4ab72be7c1e83a6ea85db/fad48/prefersReduceMotion-support-05-2020.webp 1600w,\n/static/109310f0f5f4ab72be7c1e83a6ea85db/c5daa/prefersReduceMotion-support-05-2020.webp 2528w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/109310f0f5f4ab72be7c1e83a6ea85db/772e8/prefersReduceMotion-support-05-2020.png 200w,\n/static/109310f0f5f4ab72be7c1e83a6ea85db/e17e5/prefersReduceMotion-support-05-2020.png 400w,\n/static/109310f0f5f4ab72be7c1e83a6ea85db/5a190/prefersReduceMotion-support-05-2020.png 800w,\n/static/109310f0f5f4ab72be7c1e83a6ea85db/c1b63/prefersReduceMotion-support-05-2020.png 1200w,\n/static/109310f0f5f4ab72be7c1e83a6ea85db/29007/prefersReduceMotion-support-05-2020.png 1600w,\n/static/109310f0f5f4ab72be7c1e83a6ea85db/8f1fd/prefersReduceMotion-support-05-2020.png 2528w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/109310f0f5f4ab72be7c1e83a6ea85db/5a190/prefersReduceMotion-support-05-2020.png\"\n            alt=\"Support de la fonctionnalité prefers-reduced-motion en mai 2020\"\n            title=\"Support de la fonctionnalité prefers-reduced-motion en mai 2020\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>Voici une démo en vidéo du fonctionnement de cette fonctionnalité extraite de <a href=\"https://web.dev/prefers-reduced-motion/\">l’article cité plus haut</a>.</p>\n<div style=\"position:relative;height:0;padding-bottom:56.25%\">\n<video muted=\"\" playsinline=\"\" controls=\"\" style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \">\n    <source src=\"https://storage.googleapis.com/web-dev-assets/prefers-reduced-motion/prefers-reduced-motion.mp4\" type=\"video/mp4\">\n</video>\n</div>\n<h2 id=\"le-package-et-comment-lutiliser\" style=\"position:relative;\"><a href=\"#le-package-et-comment-lutiliser\" aria-label=\"le package et comment lutiliser permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Le package et comment l’utiliser</h2>\n<p>Elle est très sympa cette <em>media query</em> mais dans certains cas, les animations que j’utilise sur mes sites sont gérées par du JavaScript.\nHeureusement, on a des solutions pour surveiller l’usage des <em>media query</em> dans le navigateur.</p>\n<p>Pour faciliter leur usage avec <em>React</em>, je l’ai donc intégré dans un <em>Hook</em> à la manière de <code class=\"language-text\">use-dark-mode</code>.</p>\n<p>Le voici: <a href=\"https://www.npmjs.com/package/use-reduced-motion\">https://www.npmjs.com/package/use-reduced-motion</a></p>\n<p>Pour l’installer dans votre projet, rien de plus simple:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> use-reduced-motion\n<span class=\"token comment\"># or</span>\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> use-reduced-motion</code></pre></div>\n<p>Ensuite il vous reste à l’utiliser dans l’un de vos composants:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useReducedMotion <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'use-reduced-motion'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AnimatedDiv <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../somewhere'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">MyExampleComponent</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> prefersReducedMotion <span class=\"token operator\">=</span> <span class=\"token function\">useReducedMotion</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">AnimatedDiv</span></span> <span class=\"token attr-name\">pause</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>prefersReducedMotion<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Je vous invite à tester ici avec votre navigateur/OS, l’animation suivante va s’arrêter automatiquement.</p>\n<iframe\n src=\"https://codesandbox.io/embed/use-reduced-motion-pi966?fontsize=14&hidenavigation=1&theme=dark&view=preview\"\n style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n title=\"use-reduced-motion\"\n allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr\"\n sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"></iframe>\n<p>N’hésitez pas à partager cet article s’il vous a plu, toute contribution au package est la bienvenue.</p>\n<ul>\n<li><a href=\"https://fr.reactjs.org/docs/hooks-intro.html\">Documentation sur les Hook React</a></li>\n<li><a href=\"https://github.com/Slashgear/use-reduced-motion\">Code source du Hook <code class=\"language-text\">use-reduced-motion</code></a></li>\n<li><a href=\"https://github.com/donavon/use-dark-mode\">Le Hook <code class=\"language-text\">use-dark-mode</code></a></li>\n</ul>\n<p><em>Crédit image <a href=\"https://undraw.co/\">unDraw</a></em></p>","headings":[{"value":"Tout part toujours d’une idée"},{"value":"Le package et comment l’utiliser"}],"wordCount":{"words":446},"tableOfContents":"<ul>\n<li><a href=\"/fr/use-reduced-motion/#tout-part-toujours-dune-id%C3%A9e\">Tout part toujours d’une idée</a></li>\n<li><a href=\"/fr/use-reduced-motion/#le-package-et-comment-lutiliser\">Le package et comment l’utiliser</a></li>\n</ul>","frontmatter":{"title":"Et voici use-reduced-motion!","date":"May 01, 2020","dateJson":"2020-05-01","translations":["en","use-reduced-motion"],"description":"Annonce de la publication d'un package open source pour la gestion de la réduction des mouvements pour l'accessibilité du web. Inspiré de mes lectures et voulant en apprendre plus sur les Hook de React.","language":"fr","tags":["react","a11y"],"hero":{"childImageSharp":{"fluid":{"aspectRatio":1.7730496453900708,"src":"/static/870f17696d18e81241f6c8bffd8fba63/a7715/useReducedMotion.jpg","srcSet":"/static/870f17696d18e81241f6c8bffd8fba63/8f7df/useReducedMotion.jpg 250w,\n/static/870f17696d18e81241f6c8bffd8fba63/0f3a1/useReducedMotion.jpg 500w,\n/static/870f17696d18e81241f6c8bffd8fba63/a7715/useReducedMotion.jpg 1000w,\n/static/870f17696d18e81241f6c8bffd8fba63/ec6c5/useReducedMotion.jpg 1280w","srcWebp":"/static/870f17696d18e81241f6c8bffd8fba63/e30b5/useReducedMotion.webp","srcSetWebp":"/static/870f17696d18e81241f6c8bffd8fba63/7ca0e/useReducedMotion.webp 250w,\n/static/870f17696d18e81241f6c8bffd8fba63/e9589/useReducedMotion.webp 500w,\n/static/870f17696d18e81241f6c8bffd8fba63/e30b5/useReducedMotion.webp 1000w,\n/static/870f17696d18e81241f6c8bffd8fba63/135cd/useReducedMotion.webp 1280w","sizes":"(max-width: 1000px) 100vw, 1000px"},"image":{"src":"/static/870f17696d18e81241f6c8bffd8fba63/10d63/useReducedMotion.jpg"},"image16x9":{"src":"/static/870f17696d18e81241f6c8bffd8fba63/6edcc/useReducedMotion.jpg"},"image4x3":{"src":"/static/870f17696d18e81241f6c8bffd8fba63/e14ae/useReducedMotion.jpg"},"image1x1":{"src":"/static/870f17696d18e81241f6c8bffd8fba63/db124/useReducedMotion.jpg"}}}}},"relatedPosts":{"edges":[{"node":{"excerpt":"Après 2 ans d’utilisation de React avec Redux pour la plateforme vidéo 6play, j’ai pu identifier les bonnes pratiques et les pièges à éviter…","fields":{"slug":"/fr/react-redux-pieges-bonnes-pratiques/"},"timeToRead":13,"frontmatter":{"title":"React/Redux : pièges et meilleures pratiques","date":"March 23, 2021","dateJson":"2021-03-23","description":"Nous utilisons React et Redux depuis presque 4 ans chez Bedrock sur notre plateforme vidéo nommée 6play. Les bonnes pratiques et les erreurs à éviter ont été rassemblées dans cet article.","tags":["react","redux","web"]}}}]}},"pageContext":{"slug":"/fr/use-reduced-motion/","tags":["react","a11y"],"language":"fr","previous":{"fields":{"slug":"/fr/gol-hommage/"},"frontmatter":{"title":"Hommage personnel au \"Game of Life\" (Jeu de la vie)","tags":["js","canvas"]}},"next":{"fields":{"slug":"/fr/comment-deployer-sur-github-pages-avec-travis-ci/"},"frontmatter":{"title":"Comment se déployer sur les pages Github avec Travis CI ?","tags":["tutoriel","github","gatsby"]}}}},"staticQueryHashes":["1264045386","1666466174","4061151221","62118570"]}