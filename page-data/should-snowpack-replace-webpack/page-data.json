{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/should-snowpack-replace-webpack/",
    "result": {"data":{"site":{"siteMetadata":{"siteUrl":"https://blog.slashgear.dev"}},"config":{"html":"<p>Written by <strong>Antoine Caron</strong> who lives and works in Lyon (France) building useful things at <a href=\"https://www.bedrockstreaming.com/\">Bedrock</a>.\nYou should follow him <a href=\"https://twitter.com/Slashgear_\">on Twitter</a>.\nTake a look at <a href=\"/friends-you-should-follow\">my friends websites</a>.\nYou could also <a href=\"/conferences\">take a look at the conferences I gave</a>.\nIf you want to see my professional background, <a href=\"/resume\">my resume is available here</a>.</p>","fields":{"slug":"/"},"frontmatter":{"title":"Antoine Caron","language":"en"}},"markdownRemark":{"id":"eb6d223f-a463-5640-a9ea-00e455fa9820","excerpt":"After webpack, esbuild and vitejs, let‚Äôs take a look at snowpack.\nThe latter seems to be making a name for itself in the bundler ecosystem‚Ä¶","html":"<p>After <a href=\"/webpack\">webpack</a>, <a href=\"/esbuild\">esbuild</a> and <a href=\"/vitejs\">vitejs</a>, let‚Äôs take a look at <a href=\"/snowpack\">snowpack</a>.\nThe latter seems to be making a name for itself in the bundler ecosystem for a few years now.\nSo I suggest that we study its functionalities, its strong points but also its weak points.</p>\n<h2 id=\"snowpack\" style=\"position:relative;\"><a href=\"#snowpack\" aria-label=\"snowpack permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Snowpack</h2>\n<p>What is Snowpack? It is a web application packager that offers :</p>\n<ul>\n<li>a rich and powerful development experience</li>\n<li>a <em>production</em> mode that offers the features necessary to optimize the assets of the site.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># npm:</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev snowpack\n<span class=\"token comment\"># yarn:</span>\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> --dev snowpack</code></pre></div>\n<h3 id=\"esmodule-in-the-browser\" style=\"position:relative;\"><a href=\"#esmodule-in-the-browser\" aria-label=\"esmodule in the browser permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ESModule in the browser</h3>\n<p>Packagers such as webpack and rollup rely on the construction of a dependency tree that is analyzed and packaged at each modification.\nThe build step of the modified files is still necessary, but the packaging operation (merging the different modules in the form of a bundle that is sent to the browser) is no longer necessary.\nOur browsers now know how to manage ESModules](<a href=\"https://caniuse.com/?search=esmodule\">https://caniuse.com/?search=esmodule</a>), so it is no longer necessary to package our source modules to merge them.</p>\n<blockquote>\n<p>This is the same idea that Evan You has taken up in <a href=\"/vite-webpack-killer\">Vite</a></p>\n</blockquote>\n<p>With this principle, the modification of a file triggers only the build of this file, and this file only.\nYou can have a project with thousands of javascript modules, the build time for each modification will not be affected.\nFor dependencies (<em>vendors</em>), Snowpack builds them once and caches them to do it again only if they have changed.</p>\n<p>Here is a diagram in the Snowpack doc showing the interest to avoid packaging in dev.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b06ee5f06a63858b913ddade78afcaba/24def/snowpack-unbundled.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB4ElEQVQoz62RX2/aQBDE8/2/Td8qRW0oqRSiAIEYY8dnY7ANFEMpYAdj359f5aNpX/PQlUa3OyeNZnduAIqiYLPZsN/vORUF56oi324tDocDho+VMYabttltc0QUsUgT1qsV+92OOIqIhCBLEmRdo1RDoxVN09jZck1jIesGJRsragWrquDbfMo4CZFCsHt6Ih8MWPZ67AdD9DxGrGI+uX1WkaB4HrHsPTDrdEi6XY6DIZfN+p/g29uR7sxlPA+oA0Hpumz6fdJej8JxUElCnGfczT3ydIEMAo6uS/b4yHY45OL5XPLVVdA0Z3TxA6qDJTTG4r2U1kilMErR0toYGqUsp4yxkFqjdfv/54bV5cLpdKIoS87nM2X5RlmWFnVd89Ey7yv/3G3xPZ94FpGmKWmS4LouvuexzTcYo+3RtW7f2rpuZ+teNjRS2tD+OiyKPQ+ZYLqa0csETiZ4zkIeF6+M0oBuNMFbRnxfeIwXHl/CCWIdczebME4CvoYOkzSwHq3gofjFZ++ZfujQCcY8RRMeIpf70KEfT+kEL0yXIbfekNHc59YfIdZzOqHDy+KV+3iKv4yugkZWqHJHfT5a+1e0KyiLdr728hpE+9eG8M7L2gZiWrQrGy0xdQnywv+o37AaQrjQnR65AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b06ee5f06a63858b913ddade78afcaba/ba381/snowpack-unbundled.webp 200w,\n/static/b06ee5f06a63858b913ddade78afcaba/7f61c/snowpack-unbundled.webp 400w,\n/static/b06ee5f06a63858b913ddade78afcaba/d00b9/snowpack-unbundled.webp 800w,\n/static/b06ee5f06a63858b913ddade78afcaba/92f8c/snowpack-unbundled.webp 1200w,\n/static/b06ee5f06a63858b913ddade78afcaba/fad48/snowpack-unbundled.webp 1600w,\n/static/b06ee5f06a63858b913ddade78afcaba/e3ca4/snowpack-unbundled.webp 1812w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b06ee5f06a63858b913ddade78afcaba/772e8/snowpack-unbundled.png 200w,\n/static/b06ee5f06a63858b913ddade78afcaba/e17e5/snowpack-unbundled.png 400w,\n/static/b06ee5f06a63858b913ddade78afcaba/5a190/snowpack-unbundled.png 800w,\n/static/b06ee5f06a63858b913ddade78afcaba/c1b63/snowpack-unbundled.png 1200w,\n/static/b06ee5f06a63858b913ddade78afcaba/29007/snowpack-unbundled.png 1600w,\n/static/b06ee5f06a63858b913ddade78afcaba/24def/snowpack-unbundled.png 1812w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b06ee5f06a63858b913ddade78afcaba/5a190/snowpack-unbundled.png\"\n            alt=\"explanation of the way snowpack works, which is based on the build only\"\n            title=\"explanation of the way snowpack works, which is based on the build only\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>If you use a <em>Create React App</em> project, you just have to add Snowpack as a dependency, you don‚Äôt have to change anything if you didn‚Äôt extend the webpack config.\nI invite you to test snowpack with the template generators:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">npx create-snowpack-app react-snowpack --template @snowpack/app-template-react</code></pre></div>\n<p>Don‚Äôt worry! Snowpack is not only compatible with React, you can use Vue, Svelte or just javascript.</p>\n<h3 id=\"a-rich-configuration-maybe-too-much\" style=\"position:relative;\"><a href=\"#a-rich-configuration-maybe-too-much\" aria-label=\"a rich configuration maybe too much permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A rich configuration (maybe too much)</h3>\n<p>Like webpack, snowpack proposes to configure its use by an object.\nI must admit that <a href=\"/vitejs-concurrent-performant-webpack-for-react/\">after playing with it quickly</a>, I am a bit disappointed.\nI see a meager <a href=\"https://www.snowpack.dev/reference/configuration\">documentation page</a> that seems to describe many parameterizable keys.</p>\n<p>If you come from webpack, you won‚Äôt be lost, it‚Äôs very similar without being exactly the same.</p>\n<blockquote>\n<p>Not touching the default configuration can be an excellent idea.</p>\n</blockquote>\n<h3 id=\"a-nice-collection-of-plugins\" style=\"position:relative;\"><a href=\"#a-nice-collection-of-plugins\" aria-label=\"a nice collection of plugins permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A nice collection of plugins</h3>\n<p>Snowpack is not that new.\nA community has built up to create <a href=\"https://www.snowpack.dev/plugins\">a rich plugin ecosystem</a>.\nSome of these plugins seem ‚Äúcore‚Äù because they are under the <em>@snowpack</em> scope but many packages are ported by a few people independent of the project.\nIt‚Äôs reassuring without being reassuring, I‚Äôve personally experienced webpack updates being blocked/delayed while waiting for compatibility of some plugins that were no longer maintained.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dc98a59b3f3f71b4953ae1ed9d1f2503/fbf76/plugins.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 142.00000000000003%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEpklEQVRIx5WV224URxCG5w3zBHmP3EWKxD03cIFxJBK4QAoK4SJIAWzW+IgDtrX2Grw7e/Ae7J2dU0/P+fRF3eNdCAqJ0tKv6m711P5V9Vet0e12abVaTCYTjo6OuLi4YDgcou4HgwE909T7VxsbnJ6e6jv1ptczef/+Pefn57TbbUzTJI5jjPF4zNOnT3n27DdevPiDR48e8fDhz9y9c4e1e/dYW1vj+fPf2d7e5smTX7h16xaPHz/m8PCQnx48YP3+fdbX17l9+7Z2bPhhwuVCaIzmHtdexMjyMWcuU0cysQN9Hi8ChnOf3nTB1A4YXDl8vJwzsQXLVVUVRpwkOI6L5wsN1/XwRcDCdvB9H8/ztHVdV1tfvQlCFr5ERglFWWqUVUVV1xiWZencnHc6mnKn06HTOaN91qH9sc/ZhUl3OKbTHWh8MEe0zSkTyyMvSr5chpRyxURBMVFQbC3Hx3Z9LMfDFVIzEzLCF5IsTSmLHCFDnu+1+bV1xP5Zv3G4dLS0KgVChek4+J6HY9uEYUhd19RVpW1RFEDNwgv49ocf+ea7u3x//xmGSmRVldSoHFT6UZalWAuLhb1gbs1xXAdLW5vr+TVKGYqI+jYvCsI41flM8wJDJ7OqSeOCNPqEWGYkYd4gyomClCjIKIuaf1uGL2PGc5eL4zHHOz3O3g452elx9KbL6cGA83cj2vt9zg4HHL3pYV25RHFEEMgVVL7DKG6qXBQlcZoxnV3xsdvD7A/pmQPMwZAPF10Gw9HNXZ+uaTK6HPPhY5f+YIQQQSMj10PqHIOxpBonEWEkiWJJkkakWQwoWVTaqiJkWU5ZVlpzqjBfLpU6I80zojRldgXTGUymMJ7UDIc1k2nNdFYzuvz0sQpLOVO2KejnqDH8SHJpX3FyImhtzdnZtdnZddjddTh4q6zN/oGHbXskSaKd/hO75Y8ZyqsKQUYCVziI0COMBUHkkZcxFSmQ6xwlSdqwqz7DzXnJ2siLnDzPkW5G4KQIWyHBtxJ9VvfudYSW6L+spWMjCH1m1oiLkwkne11ODwe0D/oc73TpvBvSPjA52TOZjOb4QujKBrpdhYaUobbVTaGMsipRLP1A9ewCx3f13vEd4jQkTqQOXQQCzxON9pRDJRkhdCrUXVmWjcOirFDwBfg+iBvres0+isB1+c+1zO2qU94eCl63XDY2bTZfu7x8ZdPactjdc3jxcoHnRXoqOa6aSr4OXdksy5Yem6IooWZ5QSA9XN/B9WxE4CIChywLSVOFgDRNdGg6h4FchaoKumLYyKYRZSBrjTACGUIgIUlBEYhj0NPqa+E2BJu/AC3sxTWHf8a0tiSbrwONjU1Ja0uwsxvw8pXg+ETo9lRVXQ4FtQ/DiCiKdVvqXs6KnDCJmc2m9Ad9Rpcj3dMyFIRhoCGlwPWc1SDQ8Hxd6WU+4zjRTFfDQcnC8VwCGWgZFWXG/126ylmekmQJlgXX8wZqSIwnMJs156/Jpmm/T4Phb51ydCzY3rF4o7C90Ng/sNndW3B65iGEj+24Gs4NvhwSqyoXpZKNCtlpchV4eMLVXZJlEVkW64mspNIg0qhvRtkSiuFfb6JCFNlI7uAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/dc98a59b3f3f71b4953ae1ed9d1f2503/ba381/plugins.webp 200w,\n/static/dc98a59b3f3f71b4953ae1ed9d1f2503/7f61c/plugins.webp 400w,\n/static/dc98a59b3f3f71b4953ae1ed9d1f2503/d00b9/plugins.webp 800w,\n/static/dc98a59b3f3f71b4953ae1ed9d1f2503/92f8c/plugins.webp 1200w,\n/static/dc98a59b3f3f71b4953ae1ed9d1f2503/5733b/plugins.webp 1252w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/dc98a59b3f3f71b4953ae1ed9d1f2503/772e8/plugins.png 200w,\n/static/dc98a59b3f3f71b4953ae1ed9d1f2503/e17e5/plugins.png 400w,\n/static/dc98a59b3f3f71b4953ae1ed9d1f2503/5a190/plugins.png 800w,\n/static/dc98a59b3f3f71b4953ae1ed9d1f2503/c1b63/plugins.png 1200w,\n/static/dc98a59b3f3f71b4953ae1ed9d1f2503/fbf76/plugins.png 1252w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/dc98a59b3f3f71b4953ae1ed9d1f2503/5a190/plugins.png\"\n            alt=\"plugins list page screenshot\"\n            title=\"plugins list page screenshot\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<blockquote>\n<p>Beware of the plugins you use!</p>\n</blockquote>\n<p>Contrary to Vite which natively offers a lot of nice features, snowpack works like webpack by relying on plugins to enrich the API.\nIt‚Äôs a gamble, it can be complicated to keep this ecosystem of plugins up to date and efficient to continue to guarantee the interest of a migration to snowpack.</p>\n<h3 id=\"server-side-rendering\" style=\"position:relative;\"><a href=\"#server-side-rendering\" aria-label=\"server side rendering permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Server Side Rendering</h3>\n<p>Snowpack offers a solution to implement your applications with server-side rendering.\nIt is clear that the need for SSR is still felt on our frontend applications for SEO or rendering performance reasons.\nUnfortunately, on the application packaging side, it is still complicated and it is often necessary to make two builds:</p>\n<ul>\n<li>a build for the client aka the Browser</li>\n<li>a build for the Node server</li>\n</ul>\n<blockquote>\n<p>Double build, double punishment!</p>\n</blockquote>\n<p>The <a href=\"https://www.snowpack.dev/guides/server-side-render#option-3%3A-server-side-rendering-(ssr)\">technique proposed by Snowpack</a> remains limited but it‚Äôs still correct.\nI propose a slight improvement of the implementation by adding the buffered server rendering mechanics.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>readFileSync<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>startServer<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'snowpack'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">startServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> runtime <span class=\"token operator\">=</span> server<span class=\"token punctuation\">.</span><span class=\"token function\">getServerRuntime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> next</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> importedComponent <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> runtime<span class=\"token punctuation\">.</span><span class=\"token function\">importModule</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/dist/MyReactComponent.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> MyReactComponent <span class=\"token operator\">=</span> importedComponent<span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">.</span>default<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> html <span class=\"token operator\">=</span> ReactDOMServer<span class=\"token punctuation\">.</span><span class=\"token function\">renderToNodeStream</span><span class=\"token punctuation\">(</span>React<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span>MyReactComponent<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// Directly write the head of page</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    &lt;html>\n    &lt;head>\n      &lt;title>Hello üëã&lt;/title>\n    &lt;/head>\n    &lt;body>\n    &lt;div id=\"app\">\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// Render bufferized version of App</span>\n  html<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> end<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// When buffer end, we add the closing tags of page</span>\n  html<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n      &lt;/div>\n      &lt;/body>\n      &lt;/html>\n    </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"webpack-esbuild-quick-or-snowpack-\" style=\"position:relative;\"><a href=\"#webpack-esbuild-quick-or-snowpack-\" aria-label=\"webpack esbuild quick or snowpack  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Webpack, esbuild, quick, or snowpack ?</h2>\n<p>Clearly after this series of articles where I tried to study this new generation of tools to bundle applications, I must admit that I am very surprised.\nWe can clearly see that the support of ES Modules in the browser marks the entry into a new era.\nAs Sindre Sorhus reminds us in <a href=\"https://blog.sindresorhus.com/hello-modules-d1010b4e777b\">his latest article</a>, with the end of Node 10 support and the capabilities of our current browsers, it is no longer necessary to target CJS.</p>\n<p>Caching strategies and the use of CJS modules seem to be outdated for our needs in development environments.\nWe can see that Vite and Snowpack offer this new mechanism which seems to be really efficient.\nDoing a <em>once for all</em> build of the libraries and of each source file is a great idea to not suffer from a too slow startup time of our big web applications.</p>\n<blockquote>\n<p>Keep an eye on Esbuild</p>\n</blockquote>\n<p>However, the performance of these new tools also relies heavily on Esbuild.\nThe idea of using a more optimized stack to read, parse, combine JS or TS modules with languages that allow for finer IO and memory management is really the keystone of this new generation of tools.\nEven before choosing whether to stay with webpack, or use Vite and Snowpack, it is certain that Esbuild will have to be followed closely.\nThis lib has not finished surprising us.\nYou should also look at a tool like <a href=\"https://swc.rs/\">SWC</a> which is a direct competitor of Esbuild.\nThere are certainly other tools being created at the moment.</p>\n<h3 id=\"i-use-webpack-and-have-configured-it-a-lot\" style=\"position:relative;\"><a href=\"#i-use-webpack-and-have-configured-it-a-lot\" aria-label=\"i use webpack and have configured it a lot permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>I use webpack and have configured it a lot</h3>\n<p>If you are in this situation, you may unfortunately be forced to keep webpack.\nThis is not bad news, it is a very good tool that is far from being obsolete.\nIt is likely that the webpack team will come up with new performance improvements, perhaps through the use of ESModules.</p>\n<p>You can also try to use snowpack in a development environment.\nThere is <a href=\"https://www.npmjs.com/package/@snowpack/plugin-webpack\">a plugin to use webpack in the snowpack prod build</a>.</p>\n<h3 id=\"i-really-want-to-reduce-the-configuration-of-my-application-build\" style=\"position:relative;\"><a href=\"#i-really-want-to-reduce-the-configuration-of-my-application-build\" aria-label=\"i really want to reduce the configuration of my application build permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>I really want to reduce the configuration of my application build</h3>\n<p>If you don‚Äôt want to keep your webpack configuration files anymore, which can be sometimes difficult to maintain, the alternative proposed by Vite can be a great option.\nJust keep in mind that this solution is still young.</p>\n<p>If you are going to use Vite, I suggest that you minimize the configuration you can do to it.\nThis will make it easier for you to keep up with the new versions that are likely to arrive in the coming months.</p>\n<h3 id=\"i-use-a-cli-that-manages-my-build-configuration-for-me\" style=\"position:relative;\"><a href=\"#i-use-a-cli-that-manages-my-build-configuration-for-me\" aria-label=\"i use a cli that manages my build configuration for me permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>I use a CLI that manages my build configuration for me</h3>\n<p>You are using VueCLI, CRA, or other and you have not ejected your configuration.\nYou don‚Äôt like to touch the build configuration of your application because the tools are complex and you don‚Äôt want to spend a lot of time configuring them.\nSo I recommend you to stay as much as possible with the default configuration of your project as long as its performance does not bother you.</p>\n<p>However, nothing prevents you from testing tools like Vite that work directly without configuration with your already generated projects.\nIf the startup time of your development environment becomes too important, this can really be an interesting solution for you.</p>\n<h2 id=\"and-its-already-the-end\" style=\"position:relative;\"><a href=\"#and-its-already-the-end\" aria-label=\"and its already the end permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>And it‚Äôs already the end?</h2>\n<p>I think I‚Äôve covered the new tools proposed by the community to package our web applications.\nIf you have other tools that would be interesting to look at, don‚Äôt hesitate to suggest them to me on a social network like Twitter.\nSee you soon for new <em>javascript peregrinations</em> !üëã</p>\n<p>Thanks to J√©r√©mie for the review ü§ó</p>","headings":[{"value":"Snowpack"},{"value":"ESModule in the browser"},{"value":"A rich configuration (maybe too much)"},{"value":"A nice collection of plugins"},{"value":"Server Side Rendering"},{"value":"Webpack, esbuild, quick, or snowpack ?"},{"value":"I use webpack and have configured it a lot"},{"value":"I really want to reduce the configuration of my application build"},{"value":"I use a CLI that manages my build configuration for me"},{"value":"And it‚Äôs already the end?"}],"wordCount":{"words":1235},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#snowpack\">Snowpack</a></p>\n<ul>\n<li><a href=\"#esmodule-in-the-browser\">ESModule in the browser</a></li>\n<li><a href=\"#a-rich-configuration-maybe-too-much\">A rich configuration (maybe too much)</a></li>\n<li><a href=\"#a-nice-collection-of-plugins\">A nice collection of plugins</a></li>\n<li><a href=\"#server-side-rendering\">Server Side Rendering</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#webpack-esbuild-quick-or-snowpack-\">Webpack, esbuild, quick, or snowpack ?</a></p>\n<ul>\n<li><a href=\"#i-use-webpack-and-have-configured-it-a-lot\">I use webpack and have configured it a lot</a></li>\n<li><a href=\"#i-really-want-to-reduce-the-configuration-of-my-application-build\">I really want to reduce the configuration of my application build</a></li>\n<li><a href=\"#i-use-a-cli-that-manages-my-build-configuration-for-me\">I use a CLI that manages my build configuration for me</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#and-its-already-the-end\">And it‚Äôs already the end?</a></p>\n</li>\n</ul>","frontmatter":{"title":"Should we replace webpack by üóª Snowpack üóª?Ô∏è","date":"June 02, 2021","dateJson":"2021-06-02","translations":["fr","que-vaut-snowpack"],"description":"After articles on esbuild, quickly, I propose you to discover together snowpack to make an opinion.","language":"en","tags":["webpack","snowpack","vitejs","bundler"],"hero":{"childImageSharp":{"fluid":{"aspectRatio":1.9083969465648856,"src":"/static/f90d055f17d9519a65b2c2f1694cfa1a/a7715/social-2.jpg","srcSet":"/static/f90d055f17d9519a65b2c2f1694cfa1a/8f7df/social-2.jpg 250w,\n/static/f90d055f17d9519a65b2c2f1694cfa1a/0f3a1/social-2.jpg 500w,\n/static/f90d055f17d9519a65b2c2f1694cfa1a/a7715/social-2.jpg 1000w,\n/static/f90d055f17d9519a65b2c2f1694cfa1a/37d86/social-2.jpg 1500w,\n/static/f90d055f17d9519a65b2c2f1694cfa1a/a41d1/social-2.jpg 2000w,\n/static/f90d055f17d9519a65b2c2f1694cfa1a/f79d2/social-2.jpg 4400w","srcWebp":"/static/f90d055f17d9519a65b2c2f1694cfa1a/e30b5/social-2.webp","srcSetWebp":"/static/f90d055f17d9519a65b2c2f1694cfa1a/7ca0e/social-2.webp 250w,\n/static/f90d055f17d9519a65b2c2f1694cfa1a/e9589/social-2.webp 500w,\n/static/f90d055f17d9519a65b2c2f1694cfa1a/e30b5/social-2.webp 1000w,\n/static/f90d055f17d9519a65b2c2f1694cfa1a/90fb1/social-2.webp 1500w,\n/static/f90d055f17d9519a65b2c2f1694cfa1a/37117/social-2.webp 2000w,\n/static/f90d055f17d9519a65b2c2f1694cfa1a/96530/social-2.webp 4400w","sizes":"(max-width: 1000px) 100vw, 1000px"},"image":{"src":"/static/f90d055f17d9519a65b2c2f1694cfa1a/10d63/social-2.jpg"},"image16x9":{"src":"/static/f90d055f17d9519a65b2c2f1694cfa1a/6edcc/social-2.jpg"},"image4x3":{"src":"/static/f90d055f17d9519a65b2c2f1694cfa1a/e14ae/social-2.jpg"},"image1x1":{"src":"/static/f90d055f17d9519a65b2c2f1694cfa1a/db124/social-2.jpg"}}}}},"relatedPosts":{"edges":[{"node":{"excerpt":"After having dealt on this blog in several articles about webpack, I have started a new series of articles about new generation bundlers.\nIt‚Ä¶","fields":{"slug":"/vite-webpack-killer/"},"timeToRead":8,"frontmatter":{"title":"Vite, a new webpack killer ?!üòÆ","date":"March 26, 2021","dateJson":"2021-03-26","description":"After studying solutions such as Webpack and Esbuild, I had to look at tools such as Vite which, in my eyes, is part of a new generation.","tags":["webpack","esbuild","vitejs","bundler"]}}},{"node":{"excerpt":"I‚Äôve been playing with JS bundlers for several years.\nStill convinced of the necessity of using these tools (don‚Äôt let me believe that you‚Ä¶","fields":{"slug":"/esbuild-incredibly-fast-and-promising/"},"timeToRead":6,"frontmatter":{"title":"Esbuild, the incredibly fast üí® and promising bundler üìà!","date":"March 14, 2021","dateJson":"2021-03-14","description":"Playing with traditional bundlers like webpack for several years, I propose here my opinion on the esbuild bundler.","tags":["webpack","js","bundler"]}}},{"node":{"excerpt":"How did I cut in half my project‚Äôs webpack build time ? Who never complained about the infinite duration of a webpack build on a project ?\nI‚Ä¶","fields":{"slug":"/hunting-webpack-performances/"},"timeToRead":6,"frontmatter":{"title":"How to boost the speed of your webpack build?","date":"March 01, 2020","dateJson":"2020-03-01","description":"A story of performance optimization and application of the Pareto principle to a webpack build that has become far too long.","tags":["webpack","webperf"]}}},{"node":{"excerpt":"If you need to use webpack for your project. You are very often forced by  who have done the Job for you. You don‚Äôt know what webpack is for‚Ä¶","fields":{"slug":"/learn-webpack/"},"timeToRead":1,"frontmatter":{"title":"Learning webpack Step By Step","date":"July 23, 2019","dateJson":"2019-07-23","description":"webpack bundler seems to feel really complicated to learn but it tend to be much more simpler now. I made up some workshops in order to learn concepts.","tags":["webpack","mooc","learn"]}}}]}},"pageContext":{"slug":"/should-snowpack-replace-webpack/","tags":["webpack","snowpack","vitejs","bundler"],"language":"en","previous":{"fields":{"slug":"/vite-webpack-killer/"},"frontmatter":{"title":"Vite, a new webpack killer ?!üòÆ","tags":["webpack","esbuild","vitejs","bundler"]}},"next":{"fields":{"slug":"/how-to-setup-e2e-tests-with-webdriverio/"},"frontmatter":{"title":"How to setup end to end tests with WebdriverIo on Github action ?","tags":["github","action","e2e","WebdriverIo"]}}}},
    "staticQueryHashes": ["1264045386","1666466174","2564629789","4061151221","62118570"]}